!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}var e=c(2),f=(d(e),c(6)),g=c(101),h=c(102),i=openFeedbackOptions.containerElementId,j=document.getElementById(i);j.classList.add("or-t-ml"),j.style.zIndex="1000";var k=document.createElement("style");k.type="text/css",k.appendChild(document.createTextNode("[id='"+i+"']{ position: fixed; right: 10px; bottom: 10px; }\n[id='"+i+"'][dir='rtl']{ left: 10px; right: initial; }")),document.head.appendChild(k);var l={backend:openFeedbackOptions.backendUrl,userExpires:31536e3,docKey:openFeedbackOptions.documentMetaName,docSnapKey:openFeedbackOptions.documentSnapIdMetaName,localeKey:openFeedbackOptions.localeMetaName,siteKey:openFeedbackOptions.siteNameMetaName,variant:"LocalPreview",customProperties:openFeedbackOptions.propertyBag||null,fallbackUiLocale:"en-us",supportedUiLocales:["ar-sa","bg-bg","cs-cz","da-dk","de-de","el-gr","en-us","es-es","fa-ir","fi-fi","fil-ph","fr-fr","he-il","hu-hu","id-id","it-it","ja-jp","ko-kr","lt-lt","nb-no","nl-nl","pl-pl","pt-br","pt-pt","ro-ro","ru-ru","sk-sk","sl-si","sv-se","th-th","tr-tr","uk-ua","vi-vn","zh-cn","zh-hk","zh-tw"],uiLocaleResCallback:function(a){return new h.LocJsonResource(""+openFeedbackOptions.localizationUrl+a+".json","texts","rtl")},responsiveRule:openFeedbackOptions.responsiveRule||null},m=(0,f.createStd2PhaseApp)(l,[new g.TwoPhaseWEDCSLogger]);m.uiLocale=m.metadata.locale,m.parent=j,m.run()},function(a,b,c){var d=c(3);"string"==typeof d&&(d=[[a.id,d,""]]);c(5)(d,{});d.locals&&(a.exports=d.locals)},function(a,b,c){b=a.exports=c(4)(),b.push([a.id,".or-o, .or-so {\n    margin: 0;\n    padding: 0;\n    height: auto;\n    width: auto;\n    position: relative;\n    float: none;\n    border: none;\n    border-radius: 0;\n    outline: none;\n    background: none;\n    box-sizing: border-box;\n    font: 13px 'Segoe UI', Frutiger, 'Frutiger Linotype', 'Dejavu Sans', 'Helvetica Neue', Arial, sans-serif;\n    letter-spacing: normal;\n    text-transform: none;\n    border-spacing: 0;\n    border-collapse: collapse;\n    transform: none;\n    transition: none;\n    animation: none;\n}\n.or-o:before, .or-o:after, .or-so:before, .or-so:after {\n    content: none;\n}\n.or-e-0 {\n    transition: none !important;\n}\n.or-f {\n    padding: 1px;\n}\n.or-f::-moz-focus-inner {\n    border: none;\n    padding: 0;\n}\n.or-lw {\n    clear: both;\n}\nh1, h2 {}\nh1.or-t, h2.or-t {\n    font-weight: lighter;\n}\nh1.or-t {\n    font-size: 40px;\n}\nh2.or-t {\n    font-size: 30px;\n}\nh3.or-t {\n    font-size: 20px;\n}\nh4.or-t {\n    font-size: 17px;\n}\n.or-b {\n    cursor: pointer;\n}\n.or-b>.or-c {\n    display: inline-block;\n    padding: 4px 25px;\n    width: 100%;\n    height: 100%;\n}\n.or-b:active {\n    transform: scale(0.98, 0.95);\n}\n.or-b[disabled] {\n    cursor: default;\n}\n.or-b[disabled]:active {\n    transform: none;\n}\n.or-g {\n    display: inline-block;\n    line-height: 0;\n}\n.or-l {\n    cursor: pointer;\n    padding: 5px 1px;\n    vertical-align: baseline;\n}\n.or-l>.or-c {\n    text-decoration: underline;\n}\n.or-a {\n    cursor: pointer;\n}\n.or-a>.or-c {\n    display: inline-block;\n    padding: 8px;\n    width: 100%;\n    height: 100%;\n}\n.or-v {\n    cursor: pointer;\n    padding-bottom: 2px;\n    /* For IE :active propagation BUG Fix */\n}\n.or-v>span {\n    display: inline-block;\n}\n.or-v>input[type=checkbox] {\n    -moz-appearance: checkbox-container;\n    width: 0;\n    height: 0;\n    opacity: 0;\n}\n.or-v>input[type=checkbox]+span, .or-v>input[type=checkbox]+span+span {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    overflow: hidden;\n}\n.or-v>input[type=checkbox]+span+span {\n    opacity: 0;\n}\n.or-v>input[type=checkbox]:checked+span+span {\n    opacity: 1;\n}\n.or-v>span:last-child {\n    margin: 0 0 0 25px;\n    line-height: 19px;\n}\n.or-v:after {\n    content: '';\n    display: inline-block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    opacity: 0;\n}\n.or-pc[dir=rtl] .or-v>span:last-child {\n    margin: 0 25px 0 0;\n}\n.or-x {\n    resize: none;\n    padding: 5px;\n}\n.or-c-mf {\n    padding: 10px;\n}\n.or-c-mf.or-e-fi {\n    transition: opacity 0.1s linear;\n}\n.or-c-mf.or-e-fo {\n    transition: opacity 0.75s linear;\n}\n.or-c-pf {\n    padding: 7px;\n    max-height: 100%;\n    overflow: auto;\n}\n.or-c-pf>.or-a {\n    padding: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    line-height: 0;\n    width: 20px;\n    height: 20px;\n}\n.or-c-pf>.or-a.or-f.or-k {\n    outline: none;\n}\n.or-c-pf>.or-a>.or-c.or-g {\n    padding: 0;\n}\n.or-c-pf>.or-a>.or-c.or-g>svg {\n    stroke-width: 1px;\n}\n.or-c-pf.or-e-fi, .or-c-pf.or-e-fo {\n    transition: opacity 0.1s linear;\n}\n.or-c-pf>.or-lw {\n    overflow: hidden;\n    padding: 3px;\n}\n.or-c-pf>.or-lw.or-e-h.or-e-w.or-e-fi {\n    transition: height 0.167s cubic-bezier(0.1, 0.9, 0.2, 1.0),\n                    width 0.167s cubic-bezier(0.1, 0.9, 0.2, 1.0),\n                    opacity 0.1s linear 0.167s;\n}\n.or-pc[dir=rtl] .or-c-pf>.or-a {\n    left: 0;\n    right: initial;\n}\n.or-c-md {\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-direction: column;\n        flex-direction: column;\n    -ms-flex-align: center;\n        align-items: center;\n    -ms-flex-pack: center;\n        justify-content: center;\n}\n.or-c-md>.or-c {\n    overflow: auto;\n}\n.or-c-md>.or-c.or-e-fi.or-e-t {\n    transition: opacity 0.167s linear, transform 0.367s cubic-bezier(0.1, 0.9, 0.2, 1.0);\n}\n.or-c-md>.or-c.or-e-fo.or-e-t {\n    transition: opacity 0.1s linear, transform 0.1s linear;\n}\n.or-c-v h3.or-t {\n    font-size: 13px;\n    margin: 0 18px 5px 1px;\n}\n.or-c-v>table.or-lw {\n    table-layout: fixed;\n}\n.or-c-v>table.or-lw td {\n    width: 50%;\n}\n.or-c-v>table.or-lw td>.or-b {\n    width: 100%;\n}\n.or-c-v>table.or-lw td:first-child {\n    padding-right: 1px;\n}\n.or-c-v>table.or-lw td:last-child {\n    padding-left: 1px;\n}\n.or-pc[dir=rtl] .or-c-v h3.or-t {\n    margin: 0 1px 5px 18px;\n}\n.or-pc[dir=rtl] .or-c-v>table.or-lw td:first-child {\n    border: none;\n    border-left: 2px transparent solid;\n}\n.or-c-f {\n    width: 235px;\n    max-width: 100%;\n}\n.or-c-f h3.or-t {\n    font-size: 13px;\n    font-weight: bold;\n}\n.or-c-f .or-v, .or-c-f .or-x, .or-c-f>.or-b {\n    display: block;\n}\n.or-c-f .or-v {\n    margin: 3px 0 0 0;\n}\n.or-c-f .or-x {\n    width: 100%;\n    height: 75px;\n}\n.or-c-f>.or-lw {\n    margin: 3px 0 0 0;\n}\n.or-c-f>.or-lw>.or-t {\n    margin: 0 18px 0 0;\n}\n.or-c-f>.or-lw.or-e-h.or-e-w.or-e-fi {\n    transition: height 0.167s cubic-bezier(0.1, 0.9, 0.2, 1.0),\n                    width 0.167s cubic-bezier(0.1, 0.9, 0.2, 1.0),\n                    opacity 0.167s linear;\n}\n.or-c-f>h3.or-t {\n    margin: 7px 0 5px 1px;\n}\n.or-c-f>.or-b {\n    float: right;\n    margin: 4px -1px 0 0;\n}\n.or-pc[dir=rtl] .or-c-f {}\n.or-pc[dir=rtl] .or-c-f>h3.or-t {\n    margin: 7px 1px 5px 0;\n}\n.or-pc[dir=rtl] .or-c-f>.or-lw>.or-t {\n    margin: 0 0 0 18px;\n}\n.or-pc[dir=rtl] .or-c-f>.or-b {\n    float: left;\n    margin: 4px 0 0 -1px;\n}\n.or-c-t h3.or-t {\n    font-size: 13px;\n}\n.or-c-pf .or-c-t h3.or-t {\n    margin: 3px 18px 0 0;\n}\n.or-pc[dir=rtl] .or-c-pf .or-c-t h3.or-t {\n    margin: 3px 0 0 18px;\n}\n.or-c-mv svg {\n    width: 12px;\n    height: 12px;\n    stroke-width: 1px;\n}\n.or-c-mv>.or-c {\n    padding: 3px 20px 5px 17px;\n}\n.or-c-mv>.or-c>span {\n    vertical-align: middle;\n}\n.or-c-mv>.or-c>.or-t {\n    color: inherit;\n    margin-left: 2px;\n}\n.or-c-mv.or-e-fi {\n    transition: opacity 0.1s linear;\n}\n.or-pc[dir=rtl] .or-c-mv>.or-c {\n    padding: 3px 17px 5px 20px;\n}\n.or-pc[dir=rtl] .or-c-mv>.or-c>.or-t {\n    margin: 0 2px 0 0;\n}\n.or-t-ml .or-f {}\n.or-t-ml .or-f.or-k {\n    outline: 2px black solid;\n}\n.or-t-ml .or-t {\n    color: black;\n}\n.or-t-ml .or-b {}\n.or-t-ml .or-b, .or-t-ml .or-b:hover, .or-t-ml .or-b:active {\n    background: none;\n}\n.or-t-ml .or-b>.or-c {\n    color: white;\n    stroke: white;\n    fill: white;\n    background: #0078d7;\n    border: 2px transparent solid;\n}\n.or-t-ml .or-b:hover>.or-c {\n    border-color: rgba(0, 0, 0, 0.4);\n}\n.or-t-ml .or-b:active>.or-c {\n    color: black;\n    stroke: black;\n    fill: black;\n    background: #999999;\n    border-color: transparent;\n}\n.or-t-ml .or-b[disabled]>.or-c, .or-t-ml .or-b[disabled]:hover>.or-c {\n    color: rgba(0, 0, 0, 0.4);\n    stroke: rgba(0, 0, 0, 0.4);\n    fill: rgba(0, 0, 0, 0.4);\n    background: rgba(0, 0, 0, 0.2);\n    border-color: transparent;\n}\n.or-t-ml .or-l {}\n.or-t-ml .or-l, .or-t-ml .or-l:hover, .or-t-ml .or-l:active {\n    background: none;\n}\n.or-t-ml .or-l>.or-c {\n    color: #0078d7;\n}\n.or-t-ml .or-l:hover>.or-c {\n    color: rgba(0, 0, 0, 0.6);\n}\n.or-t-ml .or-l:active>.or-c {\n    color: rgba(0, 0, 0, 0.4);\n}\n.or-t-ml .or-a {}\n.or-t-ml .or-a, .or-t-ml .or-a:hover, .or-t-ml .or-a:active {\n    background: none;\n}\n.or-t-ml .or-a>.or-c {\n    color: black;\n    background: transparent;\n}\n.or-t-ml .or-a:hover>.or-c {\n    background: rgba(0, 0, 0, 0.1);\n}\n.or-t-ml .or-a:active>.or-c {\n    background: rgba(0, 0, 0, 0.2);\n}\n.or-t-ml .or-v {}\n.or-t-ml .or-v>input[type=checkbox] {}\n.or-t-ml .or-v>input[type=checkbox]+span {\n    border: 2px solid rgba(0, 0, 0, 0.4);\n    background: none;\n}\n.or-t-ml .or-v>input[type=checkbox]+span+span>svg {\n    stroke: white;\n    stroke-width: 1.5px;\n    fill: transparent;\n}\n.or-t-ml .or-v:hover>input[type=checkbox]+span, .or-t-ml .or-v:hover>input[type=checkbox]:checked+span {\n    border-color: black;\n}\n.or-t-ml .or-v:active>input[type=checkbox]+span, .or-t-ml .or-v>input[type=checkbox]:checked+span, .or-t-ml .or-v:active>input[type=checkbox]:checked+span {\n    border-color: transparent;\n}\n.or-t-ml .or-v:active>input[type=checkbox]+span, .or-t-ml .or-v:active>input[type=checkbox]:checked+span {\n    background: rgba(0, 0, 0, 0.6);\n}\n.or-t-ml .or-v>input[type=checkbox]:checked+span {\n    background: #0078d7;\n}\n.or-t-ml .or-x {\n    color: black;\n    background: rgba(255, 255, 255, 0.4);\n    border: 2px rgba(0, 0, 0, 0.4) solid;\n}\n.or-t-ml .or-x:hover {\n    background: rgba(255, 255, 255, 0.6);\n    border-color: #171717;\n}\n.or-t-ml .or-x:active, .or-t-ml .or-x:focus {\n    color: black;\n    background: white;\n    border-color: #0078d7;\n}\n.or-t-ml .or-x:active::-webkit-input-placeholder, .or-t-ml .or-x:focus::-webkit-input-placeholder {\n    color: rgba(0, 0, 0, 0.4);\n}\n.or-t-ml .or-x:active::-moz-placeholder, .or-t-ml .or-x:focus::-moz-placeholder {\n    color: rgba(0, 0, 0, 0.4);\n}\n.or-t-ml .or-x:active:-ms-input-placeholder, .or-t-ml .or-x:focus:-ms-input-placeholder {\n    color: rgba(0, 0, 0, 0.4);\n}\n.or-t-ml .or-x:active::placeholder, .or-t-ml .or-x:focus::placeholder {\n    color: rgba(0, 0, 0, 0.4);\n}\n.or-t-ml .or-x::-webkit-input-placeholder {\n    color: rgba(0, 0, 0, 0.6);\n}\n.or-t-ml .or-x::-moz-placeholder {\n    color: rgba(0, 0, 0, 0.6);\n}\n.or-t-ml .or-x:-ms-input-placeholder {\n    color: rgba(0, 0, 0, 0.6);\n}\n.or-t-ml .or-x::placeholder {\n    color: rgba(0, 0, 0, 0.6);\n}\n.or-t-ml .or-c-pf, .or-t-ml .or-c-mf {\n    border: 1px rgba(133, 133, 133, 0.4) solid;\n    background: white;\n}\n.or-t-ml .or-c-pf {}\n.or-t-ml .or-c-pf>.or-a {}\n.or-t-ml .or-c-pf>.or-a.or-f.or-k:after {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    border: 2px black solid;\n}\n.or-t-ml .or-c-pf>.or-a>.or-c.or-g>svg {\n    stroke: rgba(0, 0, 0, 0.6);\n}\n.or-t-ml .or-c-pf>.or-a:hover>.or-c.or-g>svg {\n    stroke: #c80000;\n}\n.or-t-ml .or-c-pf>.or-a:active>.or-c.or-g>svg {\n    stroke: #8c0000;\n}\n.or-t-ml .or-c-md {\n    background: rgba(255, 255, 255, 0.6);\n}\n.or-t-ml .or-c-md>.or-c {\n    box-shadow: 0 0 30px rgba(0, 0, 0, 0.05);\n}\n\n@media screen and (-ms-high-contrast: active) {\n    .or-t-ml .or-b, .or-t-md .or-b {}\n    .or-t-ml .or-b>.or-c, .or-t-ml .or-b:active>.or-c, .or-t-md .or-b>.or-c, .or-t-md .or-b:active>.or-c {\n        stroke: white;\n        fill: white;\n    }\n    .or-t-ml .or-c-pf>.or-a>.or-c.or-g>svg, .or-t-md .or-c-pf>.or-a>.or-c.or-g>svg {\n        stroke: white;\n    }\n}\n\n@media screen and (-ms-high-contrast: black-on-white) {\n    .or-t-ml .or-b, .or-t-md .or-b {}\n    .or-t-ml .or-b>.or-c, .or-t-ml .or-b:active>.or-c, .or-t-md .or-b>.or-c, .or-t-md .or-b:active>.or-c {\n        stroke: black;\n        fill: black;\n    }\n    .or-t-ml .or-v>input[type=checkbox]+span+span>svg, .or-t-md .or-v>input[type=checkbox]+span+span>svg {\n        stroke: black;\n    }\n    .or-t-ml .or-c-pf>.or-a>.or-c.or-g>svg, .or-t-md .or-c-pf>.or-a>.or-c.or-g>svg {\n        stroke: black;\n    }\n}\n",""])},function(a,b){a.exports=function(){var a=[];return a.toString=function(){for(var a=[],b=0;b<this.length;b++){var c=this[b];c[2]?a.push("@media "+c[2]+"{"+c[1]+"}"):a.push(c[1])}return a.join("")},a.i=function(b,c){"string"==typeof b&&(b=[[null,b,""]]);for(var d={},e=0;e<this.length;e++){var f=this[e][0];"number"==typeof f&&(d[f]=!0)}for(e=0;e<b.length;e++){var g=b[e];"number"==typeof g[0]&&d[g[0]]||(c&&!g[2]?g[2]=c:c&&(g[2]="("+g[2]+") and ("+c+")"),a.push(g))}},a}},function(a,b,c){function d(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=n[d.id];if(e){e.refs++;for(var f=0;f<e.parts.length;f++)e.parts[f](d.parts[f]);for(;f<d.parts.length;f++)e.parts.push(j(d.parts[f],b))}else{for(var g=[],f=0;f<d.parts.length;f++)g.push(j(d.parts[f],b));n[d.id]={id:d.id,refs:1,parts:g}}}}function e(a){for(var b=[],c={},d=0;d<a.length;d++){var e=a[d],f=e[0],g=e[1],h=e[2],i=e[3],j={css:g,media:h,sourceMap:i};c[f]?c[f].parts.push(j):b.push(c[f]={id:f,parts:[j]})}return b}function f(a,b){var c=q(),d=t[t.length-1];if("top"===a.insertAt)d?d.nextSibling?c.insertBefore(b,d.nextSibling):c.appendChild(b):c.insertBefore(b,c.firstChild),t.push(b);else{if("bottom"!==a.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");c.appendChild(b)}}function g(a){a.parentNode.removeChild(a);var b=t.indexOf(a);b>=0&&t.splice(b,1)}function h(a){var b=document.createElement("style");return b.type="text/css",f(a,b),b}function i(a){var b=document.createElement("link");return b.rel="stylesheet",f(a,b),b}function j(a,b){var c,d,e;if(b.singleton){var f=s++;c=r||(r=h(b)),d=k.bind(null,c,f,!1),e=k.bind(null,c,f,!0)}else a.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(c=i(b),d=m.bind(null,c),e=function(){g(c),c.href&&URL.revokeObjectURL(c.href)}):(c=h(b),d=l.bind(null,c),e=function(){g(c)});return d(a),function(b){if(b){if(b.css===a.css&&b.media===a.media&&b.sourceMap===a.sourceMap)return;d(a=b)}else e()}}function k(a,b,c,d){var e=c?"":d.css;if(a.styleSheet)a.styleSheet.cssText=u(b,e);else{var f=document.createTextNode(e),g=a.childNodes;g[b]&&a.removeChild(g[b]),g.length?a.insertBefore(f,g[b]):a.appendChild(f)}}function l(a,b){var c=b.css,d=b.media;if(d&&a.setAttribute("media",d),a.styleSheet)a.styleSheet.cssText=c;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(c))}}function m(a,b){var c=b.css,d=b.sourceMap;d&&(c+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(d))))+" */");var e=new Blob([c],{type:"text/css"}),f=a.href;a.href=URL.createObjectURL(e),f&&URL.revokeObjectURL(f)}var n={},o=function(a){var b;return function(){return"undefined"==typeof b&&(b=a.apply(this,arguments)),b}},p=o(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),q=o(function(){return document.head||document.getElementsByTagName("head")[0]}),r=null,s=0,t=[];a.exports=function(a,b){b=b||{},"undefined"==typeof b.singleton&&(b.singleton=p()),"undefined"==typeof b.insertAt&&(b.insertAt="bottom");var c=e(a);return d(c,b),function(a){for(var f=[],g=0;g<c.length;g++){var h=c[g],i=n[h.id];i.refs--,f.push(i)}if(a){var j=e(a);d(j,b)}for(var g=0;g<f.length;g++){var i=f[g];if(0===i.refs){for(var k=0;k<i.parts.length;k++)i.parts[k]();delete n[i.id]}}}};var u=function(){var a=[];return function(b,c){return a[b]=c,a.filter(Boolean).join("\n")}}()},function(a,b,c){"use strict";function d(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=new k.Application(a);return b&&b.forEach(function(a){return c.logger.register(a)}),c.metadata=new e.StdMetadata,c.localization=new j.LocManager,c.storage=new f.StdStorage,c.adapter=new g.StdAdapter,c.workflow=new h.TwoPhaseWorkflow,c.logic=new i.TwoPhaseUILogic,c}Object.defineProperty(b,"__esModule",{value:!0}),b.createStd2PhaseApp=d;var e=c(7),f=c(74),g=c(76),h=c(77),i=c(78),j=c(100),k=c(72)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.StdMetadata=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(8),h=d(g),i=c(71),j=d(i),k=c(72),l=c(73),m="openrating-std-user",n="openrating-std-defsnap";b.StdMetadata=function(){function a(){e(this,a)}return f(a,[{key:"setApp",value:function(a){this._app=a,j["default"].verb(k.LogicCategory,"standard metadata linked with application",this)}},{key:"refresh",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=this._app.config,c=new l.MetadataReader;if(a){var d=b.userKey||m;this._user=c.readOrWriteStorage(d,h["default"].v4(),b.userExpires),this._docid=c.readMeta(b.docKey),this._docsnap=c.readMeta(b.docSnapKey)||n,this._locale=c.readMeta(b.localeKey),this._site=c.readMeta(b.siteKey),this._var=b.variant,this._props=b.customProperties||null}this._winsize={width:window.innerWidth,height:window.innerHeight},this._src=window.location.href,j["default"].info(k.LogicCategory,"metadata "+(a?"hard":"soft")+" refreshed",this)}},{key:"userId",get:function(){return this._user}},{key:"documentId",get:function(){return this._docid}},{key:"documentSnapshot",get:function(){return this._docsnap}},{key:"locale",get:function(){return this._locale}},{key:"site",get:function(){return this._site}},{key:"variant",get:function(){return this._var}},{key:"windowSize",get:function(){return this._winsize}},{key:"source",get:function(){return this._src}},{key:"properties",get:function(){return this._props}}]),a}()},function(a,b,c){var d;(function(e){!function(f){"use strict";function g(){var a=f.crypto||f.msCrypto;if(!m&&a&&a.getRandomValues)try{var b=new Uint8Array(16);p=m=function(){return a.getRandomValues(b),b},m()}catch(c){}if(!m){var d=new Array(16);n=m=function(){for(var a,b=0;b<16;b++)0===(3&b)&&(a=4294967296*Math.random()),d[b]=a>>>((3&b)<<3)&255;return d},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function h(){try{var a=c(13).randomBytes;o=m=a&&function(){return a(16)},m()}catch(b){}}function i(a,b,c){var d=b&&c||0,e=0;for(b=b||[],a.toLowerCase().replace(/[0-9a-f]{2}/g,function(a){e<16&&(b[d+e++]=s[a])});e<16;)b[d+e++]=0;return b}function j(a,b){var c=b||0,d=r;return d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]}function k(a,b,c){var d=b&&c||0,e=b||[];a=a||{};var f=null!=a.clockseq?a.clockseq:w,g=null!=a.msecs?a.msecs:(new Date).getTime(),h=null!=a.nsecs?a.nsecs:y+1,i=g-x+(h-y)/1e4;if(i<0&&null==a.clockseq&&(f=f+1&16383),(i<0||g>x)&&null==a.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");x=g,y=h,w=f,g+=122192928e5;var k=(1e4*(268435455&g)+h)%4294967296;e[d++]=k>>>24&255,e[d++]=k>>>16&255,e[d++]=k>>>8&255,e[d++]=255&k;var l=g/4294967296*1e4&268435455;e[d++]=l>>>8&255,e[d++]=255&l,e[d++]=l>>>24&15|16,e[d++]=l>>>16&255,e[d++]=f>>>8|128,e[d++]=255&f;for(var m=a.node||v,n=0;n<6;n++)e[d+n]=m[n];return b?b:j(e)}function l(a,b,c){var d=b&&c||0;"string"==typeof a&&(b="binary"===a?new q(16):null,a=null),a=a||{};var e=a.random||(a.rng||m)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,b)for(var f=0;f<16;f++)b[d+f]=e[f];return b||j(e)}var m,n,o,p;f?g():h();for(var q="function"==typeof e?e:Array,r=[],s={},t=0;t<256;t++)r[t]=(t+256).toString(16).substr(1),s[r[t]]=t;var u=m(),v=[1|u[0],u[1],u[2],u[3],u[4],u[5]],w=16383&(u[6]<<8|u[7]),x=0,y=0,z=l;z.v1=k,z.v4=l,z.parse=i,z.unparse=j,z.BufferClass=q,z._rng=m,z._mathRNG=n,z._nodeRNG=o,z._whatwgRNG=p,"undefined"!=typeof a&&a.exports?a.exports=z:(d=function(){return z}.call(b,c,b,a),!(void 0!==d&&(a.exports=d)))}("undefined"!=typeof window?window:null)}).call(b,c(9).Buffer)},function(a,b,c){(function(a){"use strict";function d(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(b){return!1}}function e(){return g.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a,b){if(e()<b)throw new RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=g.prototype):(null===a&&(a=new g(b)),a.length=b),a}function g(a,b,c){if(!(g.TYPED_ARRAY_SUPPORT||this instanceof g))return new g(a,b,c);if("number"==typeof a){if("string"==typeof b)throw new Error("If encoding is specified then the first argument must be a string");return k(this,a)}return h(this,a,b,c)}function h(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?n(a,b,c,d):"string"==typeof b?l(a,b,c):o(a,b)}function i(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative')}function j(a,b,c,d){return i(b),b<=0?f(a,b):void 0!==c?"string"==typeof d?f(a,b).fill(c,d):f(a,b).fill(c):f(a,b)}function k(a,b){if(i(b),a=f(a,b<0?0:0|p(b)),!g.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function l(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!g.isEncoding(c))throw new TypeError('"encoding" must be a valid string encoding');var d=0|r(b,c);a=f(a,d);var e=a.write(b,c);return e!==d&&(a=a.slice(0,e)),a}function m(a,b){var c=b.length<0?0:0|p(b.length);a=f(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function n(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),g.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=g.prototype):a=m(a,b),a}function o(a,b){if(g.isBuffer(b)){var c=0|p(b.length);return a=f(a,c),0===a.length?a:(b.copy(a,0,0,c),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||Y(b.length)?f(a,0):m(a,b);if("Buffer"===b.type&&_(b.data))return m(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function q(a){return+a!=a&&(a=0),g.alloc(+a)}function r(a,b){if(g.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return T(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return W(a).length;default:if(d)return T(a).length;b=(""+b).toLowerCase(),d=!0}}function s(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return H(this,b,c);case"utf8":case"utf-8":return D(this,b,c);case"ascii":return F(this,b,c);case"latin1":case"binary":return G(this,b,c);case"base64":return C(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function t(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function u(a,b,c,d,e){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return-1;c=a.length-1}else if(c<0){if(!e)return-1;c=0}if("string"==typeof b&&(b=g.from(b,d)),g.isBuffer(b))return 0===b.length?-1:v(a,b,c,d,e);if("number"==typeof b)return b=255&b,g.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):v(a,[b],c,d,e);throw new TypeError("val must be string, number or Buffer")}function v(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;if(void 0!==d&&(d=String(d).toLowerCase(),"ucs2"===d||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,k===-1?0:j-k)){if(k===-1&&(k=j),j-k+1===i)return k*g}else k!==-1&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){l=!1;break}if(l)return j}return-1}function w(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))return g;a[c+g]=h}return g}function x(a,b,c,d){return X(T(b,a.length-c),a,c,d)}function y(a,b,c,d){return X(U(b),a,c,d)}function z(a,b,c,d){return y(a,b,c,d)}function A(a,b,c,d){return X(W(b),a,c,d)}function B(a,b,c,d){return X(V(b,a.length-c),a,c,d)}function C(a,b,c){return 0===b&&c===a.length?Z.fromByteArray(a):Z.fromByteArray(a.slice(b,c))}function D(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(l<55296||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&l<1114112&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return E(d)}function E(a){var b=a.length;if(b<=aa)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=aa));return c}function F(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function G(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function H(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=S(a[f]);return e}function I(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function J(a,b,c){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function K(a,b,c,d,e,f){if(!g.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<f)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}function L(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function M(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function N(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function O(a,b,c,d,e){return e||N(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(a,b,c,d,23,4),c+4}function P(a,b,c,d,e){return e||N(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(a,b,c,d,52,8),c+8}function Q(a){if(a=R(a).replace(ba,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function S(a){return a<16?"0"+a.toString(16):a.toString(16)}function T(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if(c=a.charCodeAt(g),c>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function U(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function V(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function W(a){return Z.toByteArray(Q(a))}function X(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function Y(a){return a!==a}var Z=c(10),$=c(11),_=c(12);b.Buffer=g,b.SlowBuffer=q,b.INSPECT_MAX_BYTES=50,g.TYPED_ARRAY_SUPPORT=void 0!==a.TYPED_ARRAY_SUPPORT?a.TYPED_ARRAY_SUPPORT:d(),b.kMaxLength=e(),g.poolSize=8192,g._augment=function(a){return a.__proto__=g.prototype,a},g.from=function(a,b,c){return h(null,a,b,c)},g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0})),g.alloc=function(a,b,c){return j(null,a,b,c)},g.allocUnsafe=function(a){return k(null,a)},g.allocUnsafeSlow=function(a){return k(null,a)},g.isBuffer=function(a){return!(null==a||!a._isBuffer)},g.compare=function(a,b){if(!g.isBuffer(a)||!g.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,f=Math.min(c,d);e<f;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0},g.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(a,b){if(!_(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return g.alloc(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=g.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var f=a[c];if(!g.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(d,e),e+=f.length}return d},g.byteLength=r,g.prototype._isBuffer=!0,g.prototype.swap16=function(){
var a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)t(this,b,b+1);return this},g.prototype.swap32=function(){var a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)t(this,b,b+3),t(this,b+1,b+2);return this},g.prototype.swap64=function(){var a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)t(this,b,b+7),t(this,b+1,b+6),t(this,b+2,b+5),t(this,b+3,b+4);return this},g.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?D(this,0,a):s.apply(this,arguments)},g.prototype.equals=function(a){if(!g.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===g.compare(this,a)},g.prototype.inspect=function(){var a="",c=b.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,c).match(/.{2}/g).join(" "),this.length>c&&(a+=" ... ")),"<Buffer "+a+">"},g.prototype.compare=function(a,b,c,d,e){if(!g.isBuffer(a))throw new TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw new RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return-1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;for(var f=e-d,h=c-b,i=Math.min(f,h),j=this.slice(d,e),k=a.slice(b,c),l=0;l<i;++l)if(j[l]!==k[l]){f=j[l],h=k[l];break}return f<h?-1:h<f?1:0},g.prototype.includes=function(a,b,c){return this.indexOf(a,b,c)!==-1},g.prototype.indexOf=function(a,b,c){return u(this,a,b,c,!0)},g.prototype.lastIndexOf=function(a,b,c){return u(this,a,b,c,!1)},g.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return w(this,a,b,c);case"utf8":case"utf-8":return x(this,a,b,c);case"ascii":return y(this,a,b,c);case"latin1":case"binary":return z(this,a,b,c);case"base64":return A(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var aa=4096;g.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c,a<0&&(a=0)):a>c&&(a=c),b<0?(b+=c,b<0&&(b=0)):b>c&&(b=c),b<a&&(b=a);var d;if(g.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=g.prototype;else{var e=b-a;d=new g(e,(void 0));for(var f=0;f<e;++f)d[f]=this[f+a]}return d},g.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||J(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},g.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||J(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},g.prototype.readUInt8=function(a,b){return b||J(a,1,this.length),this[a]},g.prototype.readUInt16LE=function(a,b){return b||J(a,2,this.length),this[a]|this[a+1]<<8},g.prototype.readUInt16BE=function(a,b){return b||J(a,2,this.length),this[a]<<8|this[a+1]},g.prototype.readUInt32LE=function(a,b){return b||J(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},g.prototype.readUInt32BE=function(a,b){return b||J(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},g.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||J(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},g.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||J(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},g.prototype.readInt8=function(a,b){return b||J(a,1,this.length),128&this[a]?(255-this[a]+1)*-1:this[a]},g.prototype.readInt16LE=function(a,b){b||J(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},g.prototype.readInt16BE=function(a,b){b||J(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},g.prototype.readInt32LE=function(a,b){return b||J(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},g.prototype.readInt32BE=function(a,b){return b||J(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},g.prototype.readFloatLE=function(a,b){return b||J(a,4,this.length),$.read(this,a,!0,23,4)},g.prototype.readFloatBE=function(a,b){return b||J(a,4,this.length),$.read(this,a,!1,23,4)},g.prototype.readDoubleLE=function(a,b){return b||J(a,8,this.length),$.read(this,a,!0,52,8)},g.prototype.readDoubleBE=function(a,b){return b||J(a,8,this.length),$.read(this,a,!1,52,8)},g.prototype.writeUIntLE=function(a,b,c,d){if(a=+a,b=0|b,c=0|c,!d){var e=Math.pow(2,8*c)-1;K(this,a,b,c,e,0)}var f=1,g=0;for(this[b]=255&a;++g<c&&(f*=256);)this[b+g]=a/f&255;return b+c},g.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b=0|b,c=0|c,!d){var e=Math.pow(2,8*c)-1;K(this,a,b,c,e,0)}var f=c-1,g=1;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=a/g&255;return b+c},g.prototype.writeUInt8=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,1,255,0),g.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},g.prototype.writeUInt16LE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):L(this,a,b,!0),b+2},g.prototype.writeUInt16BE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):L(this,a,b,!1),b+2},g.prototype.writeUInt32LE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):M(this,a,b,!0),b+4},g.prototype.writeUInt32BE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):M(this,a,b,!1),b+4},g.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);K(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},g.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);K(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},g.prototype.writeInt8=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,1,127,-128),g.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},g.prototype.writeInt16LE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):L(this,a,b,!0),b+2},g.prototype.writeInt16BE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):L(this,a,b,!1),b+2},g.prototype.writeInt32LE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):M(this,a,b,!0),b+4},g.prototype.writeInt32BE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):M(this,a,b,!1),b+4},g.prototype.writeFloatLE=function(a,b,c){return O(this,a,b,!0,c)},g.prototype.writeFloatBE=function(a,b,c){return O(this,a,b,!1,c)},g.prototype.writeDoubleLE=function(a,b,c){return P(this,a,b,!0,c)},g.prototype.writeDoubleBE=function(a,b,c){return P(this,a,b,!1,c)},g.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,f=d-c;if(this===a&&c<b&&b<d)for(e=f-1;e>=0;--e)a[e+b]=this[e+c];else if(f<1e3||!g.TYPED_ARRAY_SUPPORT)for(e=0;e<f;++e)a[e+b]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+f),b);return f},g.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var e=a.charCodeAt(0);e<256&&(a=e)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!g.isEncoding(d))throw new TypeError("Unknown encoding: "+d)}else"number"==typeof a&&(a=255&a);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var f;if("number"==typeof a)for(f=b;f<c;++f)this[f]=a;else{var h=g.isBuffer(a)?a:T(new g(a,d).toString()),i=h.length;for(f=0;f<c-b;++f)this[f+b]=h[f%i]}return this};var ba=/[^+\/0-9A-Za-z-_]/g}).call(b,function(){return this}())},function(a,b){"use strict";function c(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function d(a){return 3*a.length/4-c(a)}function e(a){var b,d,e,f,g,h,i=a.length;g=c(a),h=new k(3*i/4-g),e=g>0?i-4:i;var l=0;for(b=0,d=0;b<e;b+=4,d+=3)f=j[a.charCodeAt(b)]<<18|j[a.charCodeAt(b+1)]<<12|j[a.charCodeAt(b+2)]<<6|j[a.charCodeAt(b+3)],h[l++]=f>>16&255,h[l++]=f>>8&255,h[l++]=255&f;return 2===g?(f=j[a.charCodeAt(b)]<<2|j[a.charCodeAt(b+1)]>>4,h[l++]=255&f):1===g&&(f=j[a.charCodeAt(b)]<<10|j[a.charCodeAt(b+1)]<<4|j[a.charCodeAt(b+2)]>>2,h[l++]=f>>8&255,h[l++]=255&f),h}function f(a){return i[a>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]}function g(a,b,c){for(var d,e=[],g=b;g<c;g+=3)d=(a[g]<<16)+(a[g+1]<<8)+a[g+2],e.push(f(d));return e.join("")}function h(a){for(var b,c=a.length,d=c%3,e="",f=[],h=16383,j=0,k=c-d;j<k;j+=h)f.push(g(a,j,j+h>k?k:j+h));return 1===d?(b=a[c-1],e+=i[b>>2],e+=i[b<<4&63],e+="=="):2===d&&(b=(a[c-2]<<8)+a[c-1],e+=i[b>>10],e+=i[b>>4&63],e+=i[b<<2&63],e+="="),f.push(e),f.join("")}b.byteLength=d,b.toByteArray=e,b.fromByteArray=h;for(var i=[],j=[],k="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,n=l.length;m<n;++m)i[m]=l[m],j[l.charCodeAt(m)]=m;j["-".charCodeAt(0)]=62,j["_".charCodeAt(0)]=63},function(a,b){b.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},b.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},function(a,b){var c={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==c.call(a)}},function(a,b,c){(function(d){function e(){var a=[].slice.call(arguments).join(" ");throw new Error([a,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function f(a,b){for(var c in a)b(a[c],c)}var g=c(14);b.createHash=c(16),b.createHmac=c(29),b.randomBytes=function(a,b){if(!b||!b.call)return new d(g(a));try{b.call(this,void 0,new d(g(a)))}catch(c){b(c)}},b.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var h=c(30)(b);b.pbkdf2=h.pbkdf2,b.pbkdf2Sync=h.pbkdf2Sync,c(32)(b,a.exports),f(["createCredentials","createSign","createVerify","createDiffieHellman"],function(a){b[a]=function(){e("sorry,",a,"is not implemented yet")}})}).call(b,c(9).Buffer)},function(a,b,c){(function(b,d){!function(){var e=("undefined"==typeof window?b:window)||{};_crypto=e.crypto||e.msCrypto||c(15),a.exports=function(a){if(_crypto.getRandomValues){var b=new d(a);return _crypto.getRandomValues(b),b}if(_crypto.randomBytes)return _crypto.randomBytes(a);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(b,function(){return this}(),c(9).Buffer)},function(a,b){},function(a,b,c){(function(b){function d(a){return function(){var c=[],d={update:function(a,d){return b.isBuffer(a)||(a=new b(a,d)),c.push(a),this},digest:function(d){var e=b.concat(c),f=a(e);return c=null,d?f.toString(d):f}};return d}}var e=c(17),f=d(c(26)),g=d(c(28));a.exports=function(a){return"md5"===a?new f:"rmd160"===a?new g:e(a)}}).call(b,c(9).Buffer)},function(a,b,c){var b=a.exports=function(a){var c=b[a];if(!c)throw new Error(a+" is not supported (we accept pull requests)");return new c},d=c(9).Buffer,e=c(18)(d);b.sha1=c(19)(d,e),b.sha256=c(24)(d,e),b.sha512=c(25)(d,e)},function(a,b){a.exports=function(a){function b(b,c){this._block=new a(b),this._finalSize=c,this._blockSize=b,this._len=0,this._s=0}return b.prototype.init=function(){this._s=0,this._len=0},b.prototype.update=function(b,c){"string"==typeof b&&(c=c||"utf8",b=new a(b,c));for(var d=this._len+=b.length,e=this._s=this._s||0,f=0,g=this._block;e<d;){for(var h=Math.min(b.length,f+this._blockSize-e%this._blockSize),i=h-f,j=0;j<i;j++)g[e%this._blockSize+j]=b[j+f];e+=i,f+=i,e%this._blockSize===0&&this._update(g)}return this._s=e,this},b.prototype.digest=function(a){var b=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),b%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(b,this._blockSize-4);var c=this._update(this._block)||this._hash();return a?c.toString(a):c},b.prototype._update=function(){throw new Error("_update must be implemented by subclass")},b}},function(a,b,c){var d=c(20).inherits;a.exports=function(a,b){function c(){return o.length?o.pop().init():this instanceof c?(this._w=n,b.call(this,64,56),this._h=null,void this.init()):new c}function e(a,b,c,d){return a<20?b&c|~b&d:a<40?b^c^d:a<60?b&c|b&d|c&d:b^c^d}function f(a){return a<20?1518500249:a<40?1859775393:a<60?-1894007588:-899497514}function g(a,b){return a+b|0}function h(a,b){return a<<b|a>>>32-b}var i=0,j=4,k=8,l=12,m=16,n=new("undefined"==typeof Int32Array?Array:Int32Array)(80),o=[];return d(c,b),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,b.prototype.init.call(this),this},c.prototype._POOL=o,c.prototype._update=function(a){var b,c,d,i,j,k,l,m,n,o;b=k=this._a,c=l=this._b,d=m=this._c,i=n=this._d,j=o=this._e;for(var p=this._w,q=0;q<80;q++){var r=p[q]=q<16?a.readInt32BE(4*q):h(p[q-3]^p[q-8]^p[q-14]^p[q-16],1),s=g(g(h(b,5),e(q,c,d,i)),g(g(j,r),f(q)));j=i,i=d,d=h(c,30),c=b,b=s}this._a=g(b,k),this._b=g(c,l),this._c=g(d,m),this._d=g(i,n),this._e=g(j,o)},c.prototype._hash=function(){o.length<100&&o.push(this);var b=new a(20);return b.writeInt32BE(0|this._a,i),b.writeInt32BE(0|this._b,j),b.writeInt32BE(0|this._c,k),b.writeInt32BE(0|this._d,l),b.writeInt32BE(0|this._e,m),b},c}},function(a,b,c){(function(a,d){function e(a,c){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(c)?d.showHidden=c:c&&b._extend(d,c),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,c,d){if(a.customInspect&&c&&A(c.inspect)&&c.inspect!==b.inspect&&(!c.constructor||c.constructor.prototype!==c)){var e=c.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,c);if(f)return f;var g=Object.keys(c),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(c)),z(c)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(c);if(0===g.length){if(A(c)){var q=c.name?": "+c.name:"";return a.stylize("[Function"+q+"]","special")}if(w(c))return a.stylize(RegExp.prototype.toString.call(c),"regexp");if(y(c))return a.stylize(Date.prototype.toString.call(c),"date");if(z(c))return k(c)}var r="",s=!1,u=["{","}"];if(o(c)&&(s=!0,u=["[","]"]),A(c)){var v=c.name?": "+c.name:"";r=" [Function"+v+"]"}if(w(c)&&(r=" "+RegExp.prototype.toString.call(c)),y(c)&&(r=" "+Date.prototype.toUTCString.call(c)),z(c)&&(r=" "+k(c)),0===g.length&&(!s||0==c.length))return u[0]+r+u[1];if(d<0)return w(c)?a.stylize(RegExp.prototype.toString.call(c),"regexp"):a.stylize("[Object]","special");a.seen.push(c);var x;return x=s?l(a,c,d,p,g):g.map(function(b){return m(a,c,d,p,b,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return a<10?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;b.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];c<f;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},b.deprecate=function(c,e){function f(){if(!g){if(d.throwDeprecation)throw new Error(e);d.traceDeprecation?console.trace(e):console.error(e),g=!0}return c.apply(this,arguments)}if(v(a.process))return function(){return b.deprecate(c,e).apply(this,arguments)};if(d.noDeprecation===!0)return c;var g=!1;return f};var H,I={};b.debuglog=function(a){if(v(H)&&(H=d.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var c=d.pid;I[a]=function(){var d=b.format.apply(b,arguments);console.error("%s %d: %s",a,c,d)}}else I[a]=function(){};return I[a]},b.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},b.isArray=o,b.isBoolean=p,b.isNull=q,b.isNullOrUndefined=r,b.isNumber=s,b.isString=t,b.isSymbol=u,b.isUndefined=v,b.isRegExp=w,b.isObject=x,b.isDate=y,b.isError=z,b.isFunction=A,b.isPrimitive=B,b.isBuffer=c(22);var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];b.log=function(){console.log("%s - %s",E(),b.format.apply(b,arguments))},b.inherits=c(23),b._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(b,function(){return this}(),c(21))},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b){a.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},function(a,b){"function"==typeof Object.create?a.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},function(a,b,c){var d=c(20).inherits;a.exports=function(a,b){function c(){this.init(),this._w=n,b.call(this,64,56)}function e(a,b){return a>>>b|a<<32-b}function f(a,b){return a>>>b}function g(a,b,c){return a&b^~a&c}function h(a,b,c){return a&b^a&c^b&c}function i(a){return e(a,2)^e(a,13)^e(a,22)}function j(a){return e(a,6)^e(a,11)^e(a,25)}function k(a){return e(a,7)^e(a,18)^f(a,3)}function l(a){return e(a,17)^e(a,19)^f(a,10)}var m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=new Array(64);return d(c,b),c.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},c.prototype._update=function(a){var b,c,d,e,f,n,o,p,q,r,s=this._w;b=0|this._a,c=0|this._b,d=0|this._c,e=0|this._d,f=0|this._e,n=0|this._f,o=0|this._g,p=0|this._h;for(var t=0;t<64;t++){var u=s[t]=t<16?a.readInt32BE(4*t):l(s[t-2])+s[t-7]+k(s[t-15])+s[t-16];q=p+j(f)+g(f,n,o)+m[t]+u,r=i(b)+h(b,c,d),p=o,o=n,n=f,f=e+q,e=d,d=c,c=b,b=q+r}this._a=b+this._a|0,this._b=c+this._b|0,this._c=d+this._c|0,this._d=e+this._d|0,this._e=f+this._e|0,this._f=n+this._f|0,this._g=o+this._g|0,this._h=p+this._h|0},c.prototype._hash=function(){var b=new a(32);return b.writeInt32BE(this._a,0),b.writeInt32BE(this._b,4),b.writeInt32BE(this._c,8),b.writeInt32BE(this._d,12),b.writeInt32BE(this._e,16),b.writeInt32BE(this._f,20),b.writeInt32BE(this._g,24),b.writeInt32BE(this._h,28),b},c}},function(a,b,c){var d=c(20).inherits;a.exports=function(a,b){function c(){this.init(),this._w=i,b.call(this,128,112)}function e(a,b,c){return a>>>c|b<<32-c}function f(a,b,c){return a&b^~a&c}function g(a,b,c){return a&b^a&c^b&c}var h=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],i=new Array(160);return d(c,b),c.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},c.prototype._update=function(a){var b,c,d,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this._w;b=0|this._a,c=0|this._b,d=0|this._c,i=0|this._d,j=0|this._e,k=0|this._f,l=0|this._g,m=0|this._h,n=0|this._al,o=0|this._bl,p=0|this._cl,q=0|this._dl,r=0|this._el,s=0|this._fl,t=0|this._gl,u=0|this._hl;for(var w=0;w<80;w++){var x,y,z=2*w;if(w<16)x=v[z]=a.readInt32BE(4*z),y=v[z+1]=a.readInt32BE(4*z+4);else{var A=v[z-30],B=v[z-30+1],C=e(A,B,1)^e(A,B,8)^A>>>7,D=e(B,A,1)^e(B,A,8)^e(B,A,7);A=v[z-4],B=v[z-4+1];var E=e(A,B,19)^e(B,A,29)^A>>>6,F=e(B,A,19)^e(A,B,29)^e(B,A,6),G=v[z-14],H=v[z-14+1],I=v[z-32],J=v[z-32+1];y=D+H,x=C+G+(y>>>0<D>>>0?1:0),y+=F,x=x+E+(y>>>0<F>>>0?1:0),y+=J,x=x+I+(y>>>0<J>>>0?1:0),v[z]=x,v[z+1]=y}var K=g(b,c,d),L=g(n,o,p),M=e(b,n,28)^e(n,b,2)^e(n,b,7),N=e(n,b,28)^e(b,n,2)^e(b,n,7),O=e(j,r,14)^e(j,r,18)^e(r,j,9),P=e(r,j,14)^e(r,j,18)^e(j,r,9),Q=h[z],R=h[z+1],S=f(j,k,l),T=f(r,s,t),U=u+P,V=m+O+(U>>>0<u>>>0?1:0);U+=T,V=V+S+(U>>>0<T>>>0?1:0),U+=R,V=V+Q+(U>>>0<R>>>0?1:0),U+=y,V=V+x+(U>>>0<y>>>0?1:0);var W=N+L,X=M+K+(W>>>0<N>>>0?1:0);m=l,u=t,l=k,t=s,k=j,s=r,r=q+U|0,j=i+V+(r>>>0<q>>>0?1:0)|0,i=d,q=p,d=c,p=o,c=b,o=n,n=U+W|0,b=V+X+(n>>>0<U>>>0?1:0)|0}this._al=this._al+n|0,this._bl=this._bl+o|0,this._cl=this._cl+p|0,this._dl=this._dl+q|0,this._el=this._el+r|0,this._fl=this._fl+s|0,this._gl=this._gl+t|0,this._hl=this._hl+u|0,this._a=this._a+b+(this._al>>>0<n>>>0?1:0)|0,this._b=this._b+c+(this._bl>>>0<o>>>0?1:0)|0,this._c=this._c+d+(this._cl>>>0<p>>>0?1:0)|0,this._d=this._d+i+(this._dl>>>0<q>>>0?1:0)|0,this._e=this._e+j+(this._el>>>0<r>>>0?1:0)|0,this._f=this._f+k+(this._fl>>>0<s>>>0?1:0)|0,this._g=this._g+l+(this._gl>>>0<t>>>0?1:0)|0,this._h=this._h+m+(this._hl>>>0<u>>>0?1:0)|0},c.prototype._hash=function(){function b(a,b,d){c.writeInt32BE(a,d),c.writeInt32BE(b,d+4)}var c=new a(64);return b(this._a,this._al,0),b(this._b,this._bl,8),b(this._c,this._cl,16),b(this._d,this._dl,24),b(this._e,this._el,32),b(this._f,this._fl,40),b(this._g,this._gl,48),b(this._h,this._hl,56),c},c}},function(a,b,c){function d(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;for(var c=1732584193,d=-271733879,e=-1732584194,k=271733878,l=0;l<a.length;l+=16){var m=c,n=d,o=e,p=k;c=f(c,d,e,k,a[l+0],7,-680876936),k=f(k,c,d,e,a[l+1],12,-389564586),e=f(e,k,c,d,a[l+2],17,606105819),d=f(d,e,k,c,a[l+3],22,-1044525330),c=f(c,d,e,k,a[l+4],7,-176418897),k=f(k,c,d,e,a[l+5],12,1200080426),e=f(e,k,c,d,a[l+6],17,-1473231341),d=f(d,e,k,c,a[l+7],22,-45705983),c=f(c,d,e,k,a[l+8],7,1770035416),k=f(k,c,d,e,a[l+9],12,-1958414417),e=f(e,k,c,d,a[l+10],17,-42063),d=f(d,e,k,c,a[l+11],22,-1990404162),c=f(c,d,e,k,a[l+12],7,1804603682),k=f(k,c,d,e,a[l+13],12,-40341101),e=f(e,k,c,d,a[l+14],17,-1502002290),d=f(d,e,k,c,a[l+15],22,1236535329),c=g(c,d,e,k,a[l+1],5,-165796510),k=g(k,c,d,e,a[l+6],9,-1069501632),e=g(e,k,c,d,a[l+11],14,643717713),d=g(d,e,k,c,a[l+0],20,-373897302),c=g(c,d,e,k,a[l+5],5,-701558691),k=g(k,c,d,e,a[l+10],9,38016083),e=g(e,k,c,d,a[l+15],14,-660478335),d=g(d,e,k,c,a[l+4],20,-405537848),c=g(c,d,e,k,a[l+9],5,568446438),k=g(k,c,d,e,a[l+14],9,-1019803690),e=g(e,k,c,d,a[l+3],14,-187363961),d=g(d,e,k,c,a[l+8],20,1163531501),c=g(c,d,e,k,a[l+13],5,-1444681467),k=g(k,c,d,e,a[l+2],9,-51403784),e=g(e,k,c,d,a[l+7],14,1735328473),d=g(d,e,k,c,a[l+12],20,-1926607734),c=h(c,d,e,k,a[l+5],4,-378558),k=h(k,c,d,e,a[l+8],11,-2022574463),e=h(e,k,c,d,a[l+11],16,1839030562),d=h(d,e,k,c,a[l+14],23,-35309556),c=h(c,d,e,k,a[l+1],4,-1530992060),k=h(k,c,d,e,a[l+4],11,1272893353),e=h(e,k,c,d,a[l+7],16,-155497632),d=h(d,e,k,c,a[l+10],23,-1094730640),c=h(c,d,e,k,a[l+13],4,681279174),
k=h(k,c,d,e,a[l+0],11,-358537222),e=h(e,k,c,d,a[l+3],16,-722521979),d=h(d,e,k,c,a[l+6],23,76029189),c=h(c,d,e,k,a[l+9],4,-640364487),k=h(k,c,d,e,a[l+12],11,-421815835),e=h(e,k,c,d,a[l+15],16,530742520),d=h(d,e,k,c,a[l+2],23,-995338651),c=i(c,d,e,k,a[l+0],6,-198630844),k=i(k,c,d,e,a[l+7],10,1126891415),e=i(e,k,c,d,a[l+14],15,-1416354905),d=i(d,e,k,c,a[l+5],21,-57434055),c=i(c,d,e,k,a[l+12],6,1700485571),k=i(k,c,d,e,a[l+3],10,-1894986606),e=i(e,k,c,d,a[l+10],15,-1051523),d=i(d,e,k,c,a[l+1],21,-2054922799),c=i(c,d,e,k,a[l+8],6,1873313359),k=i(k,c,d,e,a[l+15],10,-30611744),e=i(e,k,c,d,a[l+6],15,-1560198380),d=i(d,e,k,c,a[l+13],21,1309151649),c=i(c,d,e,k,a[l+4],6,-145523070),k=i(k,c,d,e,a[l+11],10,-1120210379),e=i(e,k,c,d,a[l+2],15,718787259),d=i(d,e,k,c,a[l+9],21,-343485551),c=j(c,m),d=j(d,n),e=j(e,o),k=j(k,p)}return Array(c,d,e,k)}function e(a,b,c,d,e,f){return j(k(j(j(b,a),j(d,f)),e),c)}function f(a,b,c,d,f,g,h){return e(b&c|~b&d,a,b,f,g,h)}function g(a,b,c,d,f,g,h){return e(b&d|c&~d,a,b,f,g,h)}function h(a,b,c,d,f,g,h){return e(b^c^d,a,b,f,g,h)}function i(a,b,c,d,f,g,h){return e(c^(b|~d),a,b,f,g,h)}function j(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function k(a,b){return a<<b|a>>>32-b}var l=c(27);a.exports=function(a){return l.hash(a,d,16)}},function(a,b,c){(function(b){function c(a,c){if(a.length%f!==0){var d=a.length+(f-a.length%f);a=b.concat([a,g],d)}for(var e=[],h=c?a.readInt32BE:a.readInt32LE,i=0;i<a.length;i+=f)e.push(h.call(a,i));return e}function d(a,c,d){for(var e=new b(c),f=d?e.writeInt32BE:e.writeInt32LE,g=0;g<a.length;g++)f.call(e,a[g],4*g,!0);return e}function e(a,e,f,g){b.isBuffer(a)||(a=new b(a));var i=e(c(a,g),a.length*h);return d(i,f,g)}var f=4,g=new b(f);g.fill(0);var h=8;a.exports={hash:e}}).call(b,c(9).Buffer)},function(a,b,c){(function(b){function c(a,b,c){return a^b^c}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return(a|~b)^c}function f(a,b,c){return a&c|b&~c}function g(a,b,c){return a^(b|~c)}function h(a,b){return a<<b|a>>>32-b}function i(a){var c=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof a&&(a=new b(a,"utf8"));var d=p(a),e=8*a.length,f=8*a.length;d[e>>>5]|=128<<24-e%32,d[(e+64>>>9<<4)+14]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8);for(var g=0;g<d.length;g+=16)r(c,d,g);for(var g=0;g<5;g++){var h=c[g];c[g]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}var i=q(c);return new b(i)}a.exports=i;var j=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],k=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],n=[0,1518500249,1859775393,2400959708,2840853838],o=[1352829926,1548603684,1836072691,2053994217,0],p=function(a){for(var b=[],c=0,d=0;c<a.length;c++,d+=8)b[d>>>5]|=a[c]<<24-d%32;return b},q=function(a){for(var b=[],c=0;c<32*a.length;c+=8)b.push(a[c>>>5]>>>24-c%32&255);return b},r=function(a,b,i){for(var p=0;p<16;p++){var q=i+p,r=b[q];b[q]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var s,t,u,v,w,x,y,z,A,B;x=s=a[0],y=t=a[1],z=u=a[2],A=v=a[3],B=w=a[4];for(var C,p=0;p<80;p+=1)C=s+b[i+j[p]]|0,C+=p<16?c(t,u,v)+n[0]:p<32?d(t,u,v)+n[1]:p<48?e(t,u,v)+n[2]:p<64?f(t,u,v)+n[3]:g(t,u,v)+n[4],C=0|C,C=h(C,l[p]),C=C+w|0,s=w,w=v,v=h(u,10),u=t,t=C,C=x+b[i+k[p]]|0,C+=p<16?g(y,z,A)+o[0]:p<32?f(y,z,A)+o[1]:p<48?e(y,z,A)+o[2]:p<64?d(y,z,A)+o[3]:c(y,z,A)+o[4],C=0|C,C=h(C,m[p]),C=C+B|0,x=B,B=A,A=h(z,10),z=y,y=C;C=a[1]+u+A|0,a[1]=a[2]+v+B|0,a[2]=a[3]+w+x|0,a[3]=a[4]+s+y|0,a[4]=a[0]+t+z|0,a[0]=C}}).call(b,c(9).Buffer)},function(a,b,c){(function(b){function d(a,c){if(!(this instanceof d))return new d(a,c);this._opad=i,this._alg=a;var g="sha512"===a?128:64;c=this._key=b.isBuffer(c)?c:new b(c),c.length>g?c=e(a).update(c).digest():c.length<g&&(c=b.concat([c,f],g));for(var h=this._ipad=new b(g),i=this._opad=new b(g),j=0;j<g;j++)h[j]=54^c[j],i[j]=92^c[j];this._hash=e(a).update(h)}var e=c(16),f=new b(128);f.fill(0),a.exports=d,d.prototype.update=function(a,b){return this._hash.update(a,b),this},d.prototype.digest=function(a){var b=this._hash.digest();return e(this._alg).update(this._opad).update(b).digest(a)}}).call(b,c(9).Buffer)},function(a,b,c){var d=c(31);a.exports=function(a,b){b=b||{};var c=d(a);return b.pbkdf2=c.pbkdf2,b.pbkdf2Sync=c.pbkdf2Sync,b}},function(a,b,c){(function(b){a.exports=function(a){function c(a,b,c,e,f,g){if("function"==typeof f&&(g=f,f=void 0),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var h;try{h=d(a,b,c,e,f)}catch(i){return g(i)}g(void 0,h)})}function d(c,d,e,f,g){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof f)throw new TypeError("Key length not a number");if(f<0)throw new TypeError("Bad key length");g=g||"sha1",b.isBuffer(c)||(c=new b(c)),b.isBuffer(d)||(d=new b(d));var h,i,j,k=1,l=new b(f),m=new b(d.length+4);d.copy(m,0,0,d.length);for(var n=1;n<=k;n++){m.writeUInt32BE(n,d.length);var o=a.createHmac(g,c).update(m).digest();if(!h&&(h=o.length,j=new b(h),k=Math.ceil(f/h),i=f-(k-1)*h,f>(Math.pow(2,32)-1)*h))throw new TypeError("keylen exceeds maximum length");o.copy(j,0,0,h);for(var p=1;p<e;p++){o=a.createHmac(g,c).update(o).digest();for(var q=0;q<h;q++)j[q]^=o[q]}var r=(n-1)*h,s=n==k?i:h;j.copy(l,r,0,s)}return l}return{pbkdf2:c,pbkdf2Sync:d}}}).call(b,c(9).Buffer)},function(a,b,c){a.exports=function(a,b){function d(){return Object.keys(g)}b=b||{};var e=c(33)(a);b.createCipher=e.createCipher,b.createCipheriv=e.createCipheriv;var f=c(70)(a);b.createDecipher=f.createDecipher,b.createDecipheriv=f.createDecipheriv;var g=c(61);b.listCiphers=d}},function(a,b,c){(function(b){function d(a,c,h){return this instanceof d?(g.call(this),this._cache=new e,this._cipher=new f.AES(c),this._prev=new b(h.length),h.copy(this._prev),void(this._mode=a)):new d(a,c,h)}function e(){return this instanceof e?void(this.cache=new b("")):new e}var f=c(34),g=c(35),h=c(60),i=c(61),j=c(62),k=c(63);h(d,g),d.prototype._transform=function(a,b,c){this._cache.add(a);for(var d,e;d=this._cache.get();)e=this._mode.encrypt(this,d),this.push(e);c()},d.prototype._flush=function(a){var b=this._cache.flush();this.push(this._mode.encrypt(this,b)),this._cipher.scrub(),a()},e.prototype.add=function(a){this.cache=b.concat([this.cache,a])},e.prototype.get=function(){if(this.cache.length>15){var a=this.cache.slice(0,16);return this.cache=this.cache.slice(16),a}return null},e.prototype.flush=function(){for(var a=16-this.cache.length,c=new b(a),d=-1;++d<a;)c.writeUInt8(a,d);var e=b.concat([this.cache,c]);return e};var l={ECB:c(64),CBC:c(65),CFB:c(67),OFB:c(68),CTR:c(69)};a.exports=function(a){function c(a,c,e){var f=i[a];if(!f)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=new b(e)),"string"==typeof c&&(c=new b(c)),c.length!==f.key/8)throw new TypeError("invalid key length "+c.length);if(e.length!==f.iv)throw new TypeError("invalid iv length "+e.length);return"stream"===f.type?new k(l[f.mode],c,e):new d(l[f.mode],c,e)}function e(b,d){var e=i[b];if(!e)throw new TypeError("invalid suite type");var f=j(a,d,e.key,e.iv);return c(b,f.key,f.iv)}return{createCipher:e,createCipheriv:c}}}).call(b,c(9).Buffer)},function(a,b,c){(function(a){function c(a){var b,c;return b=a>h||a<0?(c=Math.abs(a)%h,a<0?h-c:c):a}function d(a){var b,c,d;for(b=c=0,d=a.length;0<=d?c<d:c>d;b=0<=d?++c:--c)a[b]=0;return!1}function e(){var a;this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=function(){var b,c;for(c=[],a=b=0;b<4;a=++b)c.push([]);return c}(),this.INV_SUB_MIX=function(){var b,c;for(c=[],a=b=0;b<4;a=++b)c.push([]);return c}(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function f(a){for(var b=a.length/4,c=new Array(b),d=-1;++d<b;)c[d]=a.readUInt32BE(4*d);return c}function g(a){this._key=f(a),this._doReset()}var h=Math.pow(2,32);e.prototype.init=function(){var a,b,c,d,e,f,g,h,i,j;for(a=function(){var a,c;for(c=[],b=a=0;a<256;b=++a)b<128?c.push(b<<1):c.push(b<<1^283);return c}(),e=0,i=0,b=j=0;j<256;b=++j)c=i^i<<1^i<<2^i<<3^i<<4,c=c>>>8^255&c^99,this.SBOX[e]=c,this.INV_SBOX[c]=e,f=a[e],g=a[f],h=a[g],d=257*a[c]^16843008*c,this.SUB_MIX[0][e]=d<<24|d>>>8,this.SUB_MIX[1][e]=d<<16|d>>>16,this.SUB_MIX[2][e]=d<<8|d>>>24,this.SUB_MIX[3][e]=d,d=16843009*h^65537*g^257*f^16843008*e,this.INV_SUB_MIX[0][c]=d<<24|d>>>8,this.INV_SUB_MIX[1][c]=d<<16|d>>>16,this.INV_SUB_MIX[2][c]=d<<8|d>>>24,this.INV_SUB_MIX[3][c]=d,0===e?e=i=1:(e=f^a[a[a[h^f]]],i^=a[a[i]]);return!0};var i=new e;g.blockSize=16,g.prototype.blockSize=g.blockSize,g.keySize=32,g.prototype.keySize=g.keySize,g.ivSize=g.blockSize,g.prototype.ivSize=g.ivSize,g.prototype._doReset=function(){var a,b,c,d,e,f,g,h;for(c=this._key,b=c.length,this._nRounds=b+6,e=4*(this._nRounds+1),this._keySchedule=[],d=g=0;0<=e?g<e:g>e;d=0<=e?++g:--g)this._keySchedule[d]=d<b?c[d]:(f=this._keySchedule[d-1],d%b===0?(f=f<<8|f>>>24,f=i.SBOX[f>>>24]<<24|i.SBOX[f>>>16&255]<<16|i.SBOX[f>>>8&255]<<8|i.SBOX[255&f],f^=i.RCON[d/b|0]<<24):b>6&&d%b===4?f=i.SBOX[f>>>24]<<24|i.SBOX[f>>>16&255]<<16|i.SBOX[f>>>8&255]<<8|i.SBOX[255&f]:void 0,this._keySchedule[d-b]^f);for(this._invKeySchedule=[],a=h=0;0<=e?h<e:h>e;a=0<=e?++h:--h)d=e-a,f=this._keySchedule[d-(a%4?0:4)],this._invKeySchedule[a]=a<4||d<=4?f:i.INV_SUB_MIX[0][i.SBOX[f>>>24]]^i.INV_SUB_MIX[1][i.SBOX[f>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[f>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[255&f]];return!0},g.prototype.encryptBlock=function(b){b=f(new a(b));var c=this._doCryptBlock(b,this._keySchedule,i.SUB_MIX,i.SBOX),d=new a(16);return d.writeUInt32BE(c[0],0),d.writeUInt32BE(c[1],4),d.writeUInt32BE(c[2],8),d.writeUInt32BE(c[3],12),d},g.prototype.decryptBlock=function(b){b=f(new a(b));var c=[b[3],b[1]];b[1]=c[0],b[3]=c[1];var d=this._doCryptBlock(b,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX),e=new a(16);return e.writeUInt32BE(d[0],0),e.writeUInt32BE(d[3],4),e.writeUInt32BE(d[2],8),e.writeUInt32BE(d[1],12),e},g.prototype.scrub=function(){d(this._keySchedule),d(this._invKeySchedule),d(this._key)},g.prototype._doCryptBlock=function(a,b,d,e){var f,g,h,i,j,k,l,m,n,o,p,q;for(h=a[0]^b[0],i=a[1]^b[1],j=a[2]^b[2],k=a[3]^b[3],f=4,g=p=1,q=this._nRounds;1<=q?p<q:p>q;g=1<=q?++p:--p)l=d[0][h>>>24]^d[1][i>>>16&255]^d[2][j>>>8&255]^d[3][255&k]^b[f++],m=d[0][i>>>24]^d[1][j>>>16&255]^d[2][k>>>8&255]^d[3][255&h]^b[f++],n=d[0][j>>>24]^d[1][k>>>16&255]^d[2][h>>>8&255]^d[3][255&i]^b[f++],o=d[0][k>>>24]^d[1][h>>>16&255]^d[2][i>>>8&255]^d[3][255&j]^b[f++],h=l,i=m,j=n,k=o;return l=(e[h>>>24]<<24|e[i>>>16&255]<<16|e[j>>>8&255]<<8|e[255&k])^b[f++],m=(e[i>>>24]<<24|e[j>>>16&255]<<16|e[k>>>8&255]<<8|e[255&h])^b[f++],n=(e[j>>>24]<<24|e[k>>>16&255]<<16|e[h>>>8&255]<<8|e[255&i])^b[f++],o=(e[k>>>24]<<24|e[h>>>16&255]<<16|e[i>>>8&255]<<8|e[255&j])^b[f++],[c(l),c(m),c(n),c(o)]},b.AES=g}).call(b,c(9).Buffer)},function(a,b,c){(function(b){function d(){e.call(this)}var e=c(36).Transform,f=c(60);a.exports=d,f(d,e),d.prototype.update=function(a,c,d){this.write(a,c);for(var e,f=new b("");e=this.read();)f=b.concat([f,e]);return d&&(f=f.toString(d)),f},d.prototype["final"]=function(a){this.end();for(var c,d=new b("");c=this.read();)d=b.concat([d,c]);return a&&(d=d.toString(a)),d}}).call(b,c(9).Buffer)},function(a,b,c){function d(){e.call(this)}a.exports=d;var e=c(37).EventEmitter,f=c(38);f(d,e),d.Readable=c(39),d.Writable=c(56),d.Duplex=c(57),d.Transform=c(58),d.PassThrough=c(59),d.Stream=d,d.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function d(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===e.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",d),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",d),a._isStdio||b&&b.end===!1||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}a.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:h=Array.prototype.slice.call(arguments,1),c.apply(this,h)}else if(f(c))for(h=Array.prototype.slice.call(arguments,1),j=c.slice(),e=j.length,i=0;i<e;i++)j[i].apply(this,h);return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned&&(e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())),this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(e<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(d(b))return 1;if(b)return b.length}return 0},c.listenerCount=function(a,b){return a.listenerCount(b)}},function(a,b){"function"==typeof Object.create?a.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},function(a,b,c){(function(d){var e=function(){try{return c(36)}catch(a){}}();b=a.exports=c(40),b.Stream=e||b,b.Readable=b,b.Writable=c(49),b.Duplex=c(48),b.Transform=c(54),b.PassThrough=c(55),!d.browser&&"disable"===d.env.READABLE_STREAM&&e&&(a.exports=e)}).call(b,c(21))},function(a,b,c){(function(b){"use strict";function d(a,b,c){return"function"==typeof a.prependListener?a.prependListener(b,c):void(a._events&&a._events[b]?F(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c))}function e(a,b){D=D||c(48),a=a||{},this.objectMode=!!a.objectMode,b instanceof D&&(this.objectMode=this.objectMode||!!a.readableObjectMode);var d=a.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.buffer=new O,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=a.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,a.encoding&&(N||(N=c(53).StringDecoder),this.decoder=new N(a.encoding),this.encoding=a.encoding)}function f(a){return D=D||c(48),this instanceof f?(this._readableState=new e(a,this),this.readable=!0,a&&"function"==typeof a.read&&(this._read=a.read),void G.call(this)):new f(a)}function g(a,b,c,d,e){var f=k(b,c);if(f)a.emit("error",f);else if(null===c)b.reading=!1,l(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var g=new Error("stream.push() after EOF");a.emit("error",g)}else if(b.endEmitted&&e){var i=new Error("stream.unshift() after end event");a.emit("error",i)}else{var j;!b.decoder||e||d||(c=b.decoder.write(c),j=!b.objectMode&&0===c.length),e||(b.reading=!1),j||(b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&m(a))),o(a,b)}else e||(b.reading=!1);return h(b)}function h(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function i(a){return a>=P?a=P:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function j(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=i(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function k(a,b){var c=null;return I.isBuffer(b)||"string"==typeof b||null===b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function l(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,m(a)}}function m(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(M("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?E(n,a):n(a))}function n(a){M("emit readable"),a.emit("readable"),u(a)}function o(a,b){b.readingMore||(b.readingMore=!0,E(p,a,b))}function p(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(M("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function q(a){return function(){var b=a._readableState;M("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&H(a,"data")&&(b.flowing=!0,u(a))}}function r(a){M("readable nexttick read 0"),a.read(0)}function s(a,b){b.resumeScheduled||(b.resumeScheduled=!0,E(t,a,b))}function t(a,b){b.reading||(M("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),u(a),b.flowing&&!b.reading&&a.read(0)}function u(a){var b=a._readableState;for(M("flow",b.flowing);b.flowing&&null!==a.read(););}function v(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=w(a,b.buffer,b.decoder),c}function w(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?x(a,b):y(a,b),d}function x(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(e+=g===f.length?f:f.slice(0,a),a-=g,0===a){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function y(a,b){var c=J.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),a-=g,0===a){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function z(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,E(A,b,a))}function A(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function B(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)}function C(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}a.exports=f;var D,E=c(41),F=c(42);f.ReadableState=e;var G,H=(c(37).EventEmitter,function(a,b){return a.listeners(b).length});!function(){try{G=c(36)}catch(a){}finally{G||(G=c(37).EventEmitter)}}();var I=c(9).Buffer,J=c(43),K=c(44);K.inherits=c(45);var L=c(46),M=void 0;M=L&&L.debuglog?L.debuglog("stream"):function(){};var N,O=c(47);K.inherits(f,G),f.prototype.push=function(a,b){var c=this._readableState;return c.objectMode||"string"!=typeof a||(b=b||c.defaultEncoding,b!==c.encoding&&(a=J.from(a,b),b="")),g(this,c,a,b,!1)},f.prototype.unshift=function(a){var b=this._readableState;return g(this,b,a,"",!0)},f.prototype.isPaused=function(){return this._readableState.flowing===!1},f.prototype.setEncoding=function(a){return N||(N=c(53).StringDecoder),this._readableState.decoder=new N(a),this._readableState.encoding=a,this};var P=8388608;f.prototype.read=function(a){M("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return M("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?z(this):m(this),null;if(a=j(a,b),0===a&&b.ended)return 0===b.length&&z(this),null;var d=b.needReadable;M("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,M("length less than watermark",d)),b.ended||b.reading?(d=!1,M("reading or ended",d)):d&&(M("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=j(c,b)));var e;return e=a>0?v(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&z(this)),null!==e&&this.emit("data",e),e},f.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},f.prototype.pipe=function(a,c){function e(a){M("onunpipe"),a===m&&g()}function f(){M("onend"),a.end()}function g(){M("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",r),a.removeListener("error",i),a.removeListener("unpipe",e),m.removeListener("end",f),m.removeListener("end",g),m.removeListener("data",h),s=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||r()}function h(b){M("ondata"),t=!1;var c=a.write(b);!1!==c||t||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&C(n.pipes,a)!==-1)&&!s&&(M("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,t=!0),m.pause())}function i(b){M("onerror",b),l(),a.removeListener("error",i),0===H(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){M("onfinish"),a.removeListener("close",j),l()}function l(){M("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,M("pipe count=%d opts=%j",n.pipesCount,c);var o=(!c||c.end!==!1)&&a!==b.stdout&&a!==b.stderr,p=o?f:g;n.endEmitted?E(p):m.once("end",p),a.on("unpipe",e);var r=q(m);a.on("drain",r);var s=!1,t=!1;return m.on("data",h),d(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(M("pipe resume"),m.resume()),a},f.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var e=0;e<d;e++)c[e].emit("unpipe",this);return this}var f=C(b.pipes,a);return f===-1?this:(b.pipes.splice(f,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},f.prototype.on=function(a,b){var c=G.prototype.on.call(this,a,b);if("data"===a)this._readableState.flowing!==!1&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&m(this,d):E(r,this))}return c},f.prototype.addListener=f.prototype.on,f.prototype.resume=function(){var a=this._readableState;return a.flowing||(M("resume"),a.flowing=!0,s(this,a)),this},f.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this},f.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(M("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(M("wrapped data"),b.decoder&&(e=b.decoder.write(e)),(!b.objectMode||null!==e&&void 0!==e)&&(b.objectMode||e&&e.length)){var f=d.push(e);f||(c=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));var f=["error","close","destroy","pause","resume"];return B(f,function(b){a.on(b,d.emit.bind(d,b))}),d._read=function(b){M("wrapped _read",b),c&&(c=!1,a.resume())},d},f._fromList=v}).call(b,c(21))},function(a,b,c){(function(b){"use strict";function c(a,c,d,e){if("function"!=typeof a)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return b.nextTick(a);case 2:return b.nextTick(function(){a.call(null,c)});case 3:return b.nextTick(function(){a.call(null,c,d)});case 4:return b.nextTick(function(){a.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return b.nextTick(function(){a.apply(null,f)})}}!b.version||0===b.version.indexOf("v0.")||0===b.version.indexOf("v1.")&&0!==b.version.indexOf("v1.8.")?a.exports=c:a.exports=b.nextTick}).call(b,c(21))},function(a,b){var c={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==c.call(a)}},function(a,b,c){(function(a){"use strict";var d=c(9),e=d.Buffer,f=d.SlowBuffer,g=d.kMaxLength||2147483647;b.alloc=function(a,b,c){if("function"==typeof e.alloc)return e.alloc(a,b,c);if("number"==typeof c)throw new TypeError("encoding must not be number");if("number"!=typeof a)throw new TypeError("size must be a number");if(a>g)throw new RangeError("size is too large");var d=c,f=b;void 0===f&&(d=void 0,f=0);var h=new e(a);if("string"==typeof f)for(var i=new e(f,d),j=i.length,k=-1;++k<a;)h[k]=i[k%j];else h.fill(f);return h},b.allocUnsafe=function(a){if("function"==typeof e.allocUnsafe)return e.allocUnsafe(a);if("number"!=typeof a)throw new TypeError("size must be a number");if(a>g)throw new RangeError("size is too large");return new e(a)},b.from=function(b,c,d){if("function"==typeof e.from&&(!a.Uint8Array||Uint8Array.from!==e.from))return e.from(b,c,d);if("number"==typeof b)throw new TypeError('"value" argument must not be a number');if("string"==typeof b)return new e(b,c);if("undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer){var f=c;if(1===arguments.length)return new e(b);"undefined"==typeof f&&(f=0);var g=d;if("undefined"==typeof g&&(g=b.byteLength-f),f>=b.byteLength)throw new RangeError("'offset' is out of bounds");if(g>b.byteLength-f)throw new RangeError("'length' is out of bounds");return new e(b.slice(f,f+g))}if(e.isBuffer(b)){var h=new e(b.length);return b.copy(h,0,0,b.length),h}if(b){if(Array.isArray(b)||"undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return new e(b);if("Buffer"===b.type&&Array.isArray(b.data))return new e(b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},b.allocUnsafeSlow=function(a){if("function"==typeof e.allocUnsafeSlow)return e.allocUnsafeSlow(a);if("number"!=typeof a)throw new TypeError("size must be a number");if(a>=g)throw new RangeError("size is too large");return new f(a)}}).call(b,function(){return this}())},function(a,b,c){(function(a){function c(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function q(a){return Object.prototype.toString.call(a)}b.isArray=c,b.isBoolean=d,b.isNull=e,b.isNullOrUndefined=f,b.isNumber=g,b.isString=h,b.isSymbol=i,b.isUndefined=j,b.isRegExp=k,b.isObject=l,b.isDate=m,b.isError=n,b.isFunction=o,b.isPrimitive=p,b.isBuffer=a.isBuffer}).call(b,c(9).Buffer)},function(a,b){"function"==typeof Object.create?a.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},function(a,b){},function(a,b,c){"use strict";function d(){this.head=null,this.tail=null,this.length=0}var e=(c(9).Buffer,c(43));a.exports=d,d.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},d.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},d.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},d.prototype.concat=function(a){if(0===this.length)return e.alloc(0);if(1===this.length)return this.head.data;for(var b=e.allocUnsafe(a>>>0),c=this.head,d=0;c;)c.data.copy(b,d),d+=c.data.length,c=c.next;return b}},function(a,b,c){"use strict";function d(a){return this instanceof d?(j.call(this,a),k.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",e)):new d(a)}function e(){
this.allowHalfOpen||this._writableState.ended||h(f,this)}function f(a){a.end()}var g=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};a.exports=d;var h=c(41),i=c(44);i.inherits=c(45);var j=c(40),k=c(49);i.inherits(d,j);for(var l=g(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}},function(a,b,c){(function(b,d){"use strict";function e(){}function f(a,b,c){this.chunk=a,this.encoding=b,this.callback=c,this.next=null}function g(a,b){y=y||c(48),a=a||{},this.objectMode=!!a.objectMode,b instanceof y&&(this.objectMode=this.objectMode||!!a.writableObjectMode);var d=a.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var f=a.decodeStrings===!1;this.decodeStrings=!f,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){p(b,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new x(this)}function h(a){return y=y||c(48),G.call(h,this)||this instanceof y?(this._writableState=new g(a,this),this.writable=!0,a&&("function"==typeof a.write&&(this._write=a.write),"function"==typeof a.writev&&(this._writev=a.writev)),void C.call(this)):new h(a)}function i(a,b){var c=new Error("write after end");a.emit("error",c),z(b,c)}function j(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):E.isBuffer(c)||"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),z(d,f),e=!1),e}function k(a,b,c){return a.objectMode||a.decodeStrings===!1||"string"!=typeof b||(b=F.from(b,c)),b}function l(a,b,c,d,e){c=k(b,c,d),E.isBuffer(c)&&(d="buffer");var g=b.objectMode?1:c.length;b.length+=g;var h=b.length<b.highWaterMark;if(h||(b.needDrain=!0),b.writing||b.corked){var i=b.lastBufferedRequest;b.lastBufferedRequest=new f(c,d,e),i?i.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else m(a,b,!1,g,c,d,e);return h}function m(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function n(a,b,c,d,e){--b.pendingcb,c?z(e,d):e(d),a._writableState.errorEmitted=!0,a.emit("error",d)}function o(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function p(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(o(c),b)n(a,c,d,b,e);else{var f=t(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||s(a,c),d?A(q,a,c,f,e):q(a,c,f,e)}}function q(a,b,c,d){c||r(a,b),b.pendingcb--,d(),v(a,b)}function r(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function s(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,e=new Array(d),f=b.corkedRequestsFree;f.entry=c;for(var g=0;c;)e[g]=c,c=c.next,g+=1;m(a,b,!0,b.length,e,"",f.finish),b.pendingcb++,b.lastBufferedRequest=null,f.next?(b.corkedRequestsFree=f.next,f.next=null):b.corkedRequestsFree=new x(b)}else{for(;c;){var h=c.chunk,i=c.encoding,j=c.callback,k=b.objectMode?1:h.length;if(m(a,b,!1,k,h,i,j),c=c.next,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0,b.bufferedRequest=c,b.bufferProcessing=!1}function t(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function u(a,b){b.prefinished||(b.prefinished=!0,a.emit("prefinish"))}function v(a,b){var c=t(b);return c&&(0===b.pendingcb?(u(a,b),b.finished=!0,a.emit("finish")):u(a,b)),c}function w(a,b,c){b.ending=!0,v(a,b),c&&(b.finished?z(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function x(a){var b=this;this.next=null,this.entry=null,this.finish=function(c){var d=b.entry;for(b.entry=null;d;){var e=d.callback;a.pendingcb--,e(c),d=d.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}a.exports=h;var y,z=c(41),A=!b.browser&&["v0.10","v0.9."].indexOf(b.version.slice(0,5))>-1?d:z;h.WritableState=g;var B=c(44);B.inherits=c(45);var C,D={deprecate:c(52)};!function(){try{C=c(36)}catch(a){}finally{C||(C=c(37).EventEmitter)}}();var E=c(9).Buffer,F=c(43);B.inherits(h,C),g.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(g.prototype,"buffer",{get:D.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(a){}}();var G;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(G=Function.prototype[Symbol.hasInstance],Object.defineProperty(h,Symbol.hasInstance,{value:function(a){return!!G.call(this,a)||a&&a._writableState instanceof g}})):G=function(a){return a instanceof this},h.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},h.prototype.write=function(a,b,c){var d=this._writableState,f=!1;return"function"==typeof b&&(c=b,b=null),E.isBuffer(a)?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=e),d.ended?i(this,c):j(this,d,a,c)&&(d.pendingcb++,f=l(this,d,a,b,c)),f},h.prototype.cork=function(){var a=this._writableState;a.corked++},h.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||s(this,a))},h.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},h.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},h.prototype._writev=null,h.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||w(this,d,c)}}).call(b,c(21),c(50).setImmediate)},function(a,b,c){function d(a,b){this._id=a,this._clearFn=b}var e=Function.prototype.apply;b.setTimeout=function(){return new d(e.call(setTimeout,window,arguments),clearTimeout)},b.setInterval=function(){return new d(e.call(setInterval,window,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(a){a&&a.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},b.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},b.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},b._unrefActive=b.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c(51),b.setImmediate=setImmediate,b.clearImmediate=clearImmediate},function(a,b,c){(function(a,b){!function(a,c){"use strict";function d(a){"function"!=typeof a&&(a=new Function(""+a));for(var b=new Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];var d={callback:a,args:b};return p[o]=d,n(o),o++}function e(a){delete p[a]}function f(a){var b=a.callback,d=a.args;switch(d.length){case 0:b();break;case 1:b(d[0]);break;case 2:b(d[0],d[1]);break;case 3:b(d[0],d[1],d[2]);break;default:b.apply(c,d)}}function g(a){if(q)setTimeout(g,0,a);else{var b=p[a];if(b){q=!0;try{f(b)}finally{e(a),q=!1}}}}function h(){n=function(a){b.nextTick(function(){g(a)})}}function i(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}function j(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&g(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c),n=function(c){a.postMessage(b+c,"*")}}function k(){var a=new MessageChannel;a.port1.onmessage=function(a){var b=a.data;g(b)},n=function(b){a.port2.postMessage(b)}}function l(){var a=r.documentElement;n=function(b){var c=r.createElement("script");c.onreadystatechange=function(){g(b),c.onreadystatechange=null,a.removeChild(c),c=null},a.appendChild(c)}}function m(){n=function(a){setTimeout(g,0,a)}}if(!a.setImmediate){var n,o=1,p={},q=!1,r=a.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(a);s=s&&s.setTimeout?s:a,"[object process]"==={}.toString.call(a.process)?h():i()?j():a.MessageChannel?k():r&&"onreadystatechange"in r.createElement("script")?l():m(),s.setImmediate=d,s.clearImmediate=e}}("undefined"==typeof self?"undefined"==typeof a?this:a:self)}).call(b,function(){return this}(),c(21))},function(a,b){(function(b){function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(a){try{if(!b.localStorage)return!1}catch(c){return!1}var d=b.localStorage[a];return null!=d&&"true"===String(d).toLowerCase()}a.exports=c}).call(b,function(){return this}())},function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function g(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var h=c(9).Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=b.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&d<=56319)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&d<=56319){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(b<=2&&c>>4==14){this.charLength=3;break}if(b<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},function(a,b,c){"use strict";function d(a){this.afterTransform=function(b,c){return e(a,b,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a),this._transformState=new d(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(a,c){g(b,a,c)}):g(b)})}function g(a,b,c){if(b)return a.emit("error",b);null!==c&&void 0!==c&&a.push(c);var d=a._writableState,e=a._transformState;if(d.length)throw new Error("Calling transform done when ws.length != 0");if(e.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}a.exports=f;var h=c(48),i=c(44);i.inherits=c(45),i.inherits(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0}},function(a,b,c){"use strict";function d(a){return this instanceof d?void e.call(this,a):new d(a)}a.exports=d;var e=c(54),f=c(44);f.inherits=c(45),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},function(a,b,c){a.exports=c(49)},function(a,b,c){a.exports=c(48)},function(a,b,c){a.exports=c(54)},function(a,b,c){a.exports=c(55)},function(a,b){"function"==typeof Object.create?a.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},function(a,b){b["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},b["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},b["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},b["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},b["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},b["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},b.aes128=b["aes-128-cbc"],b.aes192=b["aes-192-cbc"],b.aes256=b["aes-256-cbc"],b["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},b["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},b["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},b["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},b["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},b["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},b["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},b["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},b["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"}},function(a,b,c){(function(b){a.exports=function(a,c,d,e){d/=8,e=e||0;for(var f,g,h,i=0,j=0,k=new b(d),l=new b(e),m=0;;){if(f=a.createHash("md5"),m++>0&&f.update(g),f.update(c),g=f.digest(),h=0,d>0)for(;;){if(0===d)break;if(h===g.length)break;k[i++]=g[h],d--,h++}if(e>0&&h!==g.length)for(;;){if(0===e)break;if(h===g.length)break;l[j++]=g[h],e--,h++}if(0===d&&0===e)break}for(h=0;h<g.length;h++)g[h]=0;return{key:k,iv:l}}}).call(b,c(9).Buffer)},function(a,b,c){(function(b){function d(a,c,g,h){return this instanceof d?(f.call(this),this._cipher=new e.AES(c),this._prev=new b(g.length),this._cache=new b(""),this._secCache=new b(""),this._decrypt=h,g.copy(this._prev),void(this._mode=a)):new d(a,c,g)}var e=c(34),f=c(35),g=c(60);g(d,f),a.exports=d,d.prototype._transform=function(a,b,c){c(null,this._mode.encrypt(this,a,this._decrypt))},d.prototype._flush=function(a){this._cipher.scrub(),a()}}).call(b,c(9).Buffer)},function(a,b){b.encrypt=function(a,b){return a._cipher.encryptBlock(b)},b.decrypt=function(a,b){return a._cipher.decryptBlock(b)}},function(a,b,c){var d=c(66);b.encrypt=function(a,b){var c=d(b,a._prev);return a._prev=a._cipher.encryptBlock(c),a._prev},b.decrypt=function(a,b){var c=a._prev;a._prev=b;var e=a._cipher.decryptBlock(b);return d(e,c)}},function(a,b,c){(function(b){function c(a,c){for(var d=Math.min(a.length,c.length),e=new b(d),f=-1;++f<d;)e.writeUInt8(a[f]^c[f],f);return e}a.exports=c}).call(b,c(9).Buffer)},function(a,b,c){(function(a){function d(b,c,d){var f=c.length,g=e(c,b._cache);return b._cache=b._cache.slice(f),b._prev=a.concat([b._prev,d?c:g]),g}var e=c(66);b.encrypt=function(b,c,e){for(var f,g=new a("");c.length;){if(0===b._cache.length&&(b._cache=b._cipher.encryptBlock(b._prev),b._prev=new a("")),!(b._cache.length<=c.length)){g=a.concat([g,d(b,c,e)]);break}f=b._cache.length,g=a.concat([g,d(b,c.slice(0,f),e)]),c=c.slice(f)}return g}}).call(b,c(9).Buffer)},function(a,b,c){(function(a){function d(a){return a._prev=a._cipher.encryptBlock(a._prev),a._prev}var e=c(66);b.encrypt=function(b,c){for(;b._cache.length<c.length;)b._cache=a.concat([b._cache,d(b)]);var f=b._cache.slice(0,c.length);return b._cache=b._cache.slice(c.length),e(c,f)}}).call(b,c(9).Buffer)},function(a,b,c){(function(a){function d(a){var b=a._cipher.encryptBlock(a._prev);return e(a._prev),b}function e(a){for(var b,c=a.length;c--;){if(b=a.readUInt8(c),255!==b){b++,a.writeUInt8(b,c);break}a.writeUInt8(0,c)}}var f=c(66);b.encrypt=function(b,c){for(;b._cache.length<c.length;)b._cache=a.concat([b._cache,d(b)]);var e=b._cache.slice(0,c.length);return b._cache=b._cache.slice(c.length),f(c,e)}}).call(b,c(9).Buffer)},function(a,b,c){(function(b){function d(a,c,f){return this instanceof d?(h.call(this),this._cache=new e,this._last=void 0,this._cipher=new g.AES(c),this._prev=new b(f.length),f.copy(this._prev),void(this._mode=a)):new d(a,c,f)}function e(){return this instanceof e?void(this.cache=new b("")):new e}function f(a){var b=a[15];if(16!==b)return a.slice(0,16-b)}var g=c(34),h=c(35),i=c(60),j=c(61),k=c(63),l=c(62);i(d,h),d.prototype._transform=function(a,b,c){this._cache.add(a);for(var d,e;d=this._cache.get();)e=this._mode.decrypt(this,d),this.push(e);c()},d.prototype._flush=function(a){var b=this._cache.flush();return b?(this.push(f(this._mode.decrypt(this,b))),void a()):a},e.prototype.add=function(a){this.cache=b.concat([this.cache,a])},e.prototype.get=function(){if(this.cache.length>16){var a=this.cache.slice(0,16);return this.cache=this.cache.slice(16),a}return null},e.prototype.flush=function(){if(this.cache.length)return this.cache};var m={ECB:c(64),CBC:c(65),CFB:c(67),OFB:c(68),CTR:c(69)};a.exports=function(a){function c(a,c,e){var f=j[a];if(!f)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=new b(e)),"string"==typeof c&&(c=new b(c)),c.length!==f.key/8)throw new TypeError("invalid key length "+c.length);if(e.length!==f.iv)throw new TypeError("invalid iv length "+e.length);return"stream"===f.type?new k(m[f.mode],c,e,(!0)):new d(m[f.mode],c,e)}function e(b,d){var e=j[b];if(!e)throw new TypeError("invalid suite type");var f=l(a,d,e.key,e.iv);return c(b,f.key,f.iv)}return{createDecipher:e,createDecipheriv:c}}}).call(b,c(9).Buffer)},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(){c(this,a),this._logs=[]}return d(a,[{key:"register",value:function(a){if(!a)throw new TypeError("logger should not be null or undefined");if("function"!=typeof a.verb||"function"!=typeof a.info||"function"!=typeof a.warn||"function"!=typeof a.error)throw new TypeError("logger should implement the ILogger interface");this._logs.push(a)}},{key:"verb",value:function(a,b,c){this._log("verb",a,b,c)}},{key:"info",value:function(a,b,c){this._log("info",a,b,c)}},{key:"warn",value:function(a,b,c){this._log("warn",a,b,c)}},{key:"error",value:function(a,b,c){this._log("error",a,b,c)}},{key:"_log",value:function(a,b,c,d){var e=!0,f=!1,g=void 0;try{for(var h,i=this._logs[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value;j[a](b,c,d)}}catch(k){f=!0,g=k}finally{try{!e&&i["return"]&&i["return"]()}finally{if(f)throw g}}}}]),a}(),f=new e;b["default"]=f},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.Application=b.LogicCategory=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(71),h=d(g);b.LogicCategory="applogic",b.Application=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e(this,a),this._log=h["default"],this._config=b||{}}return f(a,[{key:"run",value:function(){var a=this;this._loc.loadAsync().then(function(){a.parent.classList.add("or-pc"),a._loc.rtl&&(a.parent.dir="rtl"),a._logic.run(a)})}},{key:"config",get:function(){return this._config}},{key:"logger",get:function(){return this._log}},{key:"metadata",get:function(){return this._meta},set:function(a){this._meta=a,this._meta.setApp(this),this._meta.refresh(!0)}},{key:"storage",get:function(){return this._store},set:function(a){this._store=a,this._store.setApp(this)}},{key:"workflow",get:function(){return this._workflow},set:function(a){this._workflow=a,this._workflow.setApp(this)}},{key:"adapter",get:function(){return this._adapter},set:function(a){this._adapter=a,this._adapter.setApp(this)}},{key:"logic",get:function(){return this._logic},set:function(a){this._logic=a,this._logic.setApp(this)}},{key:"localization",get:function(){return this._loc},set:function(a){this._loc=a,this._loc.setApp(this)}},{key:"uiLocale",get:function(){return this._uiloc},set:function(a){this._uiloc=a,this._loc.setTargetLocale(a)}},{key:"parent",get:function(){return this._parent},set:function(a){this._parent=a}}]),a}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.MetadataReader=b.MetaReaderCategory=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(71),h=d(g),i=b.MetaReaderCategory="metareader";b.MetadataReader=function(){function a(){e(this,a)}return f(a,[{key:"readMeta",value:function(a){if(!a)return h["default"].warn(i,"meta name is null, undefined or empty"),null;var b=document.querySelector('meta[name="'+a+'"]');return b?(h["default"].verb(i,'got "'+a+'" meta',b),b.content):(h["default"].warn(i,"<meta /> could not be found",a),null)}},{key:"readStorage",value:function(a){if(!a)return h["default"].warn(i,"storage name is null, undefined or empty"),null;var b=JSON.parse(localStorage.getItem(a));return b&&Date.now()>=Date.parse(b.expires)&&(h["default"].verb(i,'remove "'+a+'" storage due to expiration',b),localStorage.removeItem(a),b=null),b=b?b.value:null,h["default"].verb(i,'got "'+a+'" storage value',b),b}},{key:"writeStorage",value:function(a,b,c){if(!a)return h["default"].warn(i,"storage name is null, undefined or empty"),null;var d=new Date;d.setSeconds(d.getSeconds()+c);var e={value:b,expires:d.toUTCString()};return localStorage.setItem(a,JSON.stringify(e)),h["default"].verb(i,'write "'+a+'" storage value',e),b}},{key:"readOrWriteStorage",value:function(a,b,c){return a?this.readStorage(a)||this.writeStorage(a,b,c):(h["default"].warn(i,"storage name is null, undefined or empty"),null)}}]),a}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.StdStorage=b.StorageCategory=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(71),h=d(g),i=c(75),j=b.StorageCategory="storage";b.StdStorage=function(){function a(){e(this,a)}return f(a,[{key:"setApp",value:function(a){this._app=a,h["default"].verb(j,"standard storage linked with application",this)}},{key:"_request",value:function(a,b,c,d){var e=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return h["default"].info(j,d,{method:a,url:b,body:c}),fetch(""+this._app.config.backend+b,{method:a,mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(function(a){if(!a.ok)throw h["default"].error(j,"server error when "+d,a),new Error(a.status);return e?a.json():null})}},{key:"retrieve",value:function(){var a=this._app.metadata;if(!a.documentId)throw new ReferenceError("metadata.documentId should exist");if(!a.userId)throw new ReferenceError("metadata.userId should exist");return h["default"].verb(j,"application environment before request",this._app),this._request("POST","v2/user",{anonUserId:a.userId,visitPageInfo:{documentId:a.documentId,documentSnapshotId:a.documentSnapshot,locale:a.locale}},"retrieving user rating record").then(function(b){if(h["default"].verb(j,"server returned user rating record",b),!b||!b.length)return h["default"].info(j,"no user rating record"),null;if(b=b[0],b.anonUserId!==a.userId||b.documentId!==a.documentId||b.documentSnapshotId!==a.documentSnapshot||b.locale!==a.locale)throw new Error("Server returned data is incorrect");var c=new i.StdFeedback(b.id,b.ratingTypeId,b.comment||"",b.commentExtension||[]);return h["default"].info(j,"user rating record retrieved",c),c})}},{key:"provide",value:function(a){if(!(a&&a instanceof i.StdFeedback))throw new TypeError("feedback should be StdFeedback");var b=this._app.metadata;if(!b.documentId)throw new ReferenceError("metadata.documentId should exist");if(!b.userId)throw new ReferenceError("metadata.userId should exist");return h["default"].verb(j,"application environment before request",this._app),this._request("POST","rating",{anonUserId:b.userId,documentId:b.documentId,documentSnapshotId:b.documentSnapshot,locale:b.locale,ratingTypeId:a.ratio,variantId:b.variant,siteName:b.site,windowSize:b.windowSize,url:b.source,isSpam:!1,propertyBag:b.properties},"providing user rating record").then(function(c){if(h["default"].verb(j,"server returned the new provided user rating record",c),c.anonUserId!==b.userId||c.documentId!==b.documentId||c.documentSnapshotId!==b.documentSnapshot||c.locale!==b.locale||c.ratingTypeId!==a.ratio||c.variantId!==b.variant||c.siteName!==b.site)throw new Error("Server returned data is incorrect");var d=new i.StdFeedback(c.id,c.ratingTypeId,c.comment||"",c.commentExtension||[]);return h["default"].info(j,"user rating record provided",d),d})}},{key:"refine",value:function(a){if(!(a&&a instanceof i.StdFeedback))throw new TypeError("feedback should be StdFeedback");if(!a.id)throw new ReferenceError("feedback.id should exist");var b=this._app.metadata;if(!b.documentId)throw new ReferenceError("metadata.documentId should exist");return h["default"].verb(j,"application environment before request",this._app),this._request("PUT","rating/"+a.id,{id:a.id,documentId:b.documentId,comment:a.detail||null,commentExtension:a.predefs||null},"refining user rating record",!1).then(function(){return h["default"].info(j,"user rating record refined",a),a})}}]),a}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.StdFeedback=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(71),h=d(g),i=c(74);b.StdFeedback=function(){function a(b,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(e(this,a),"boolean"!=typeof c&&"number"!=typeof c)throw new TypeError("ratio should be boolean|number");this._id=b,this._ratio="number"==typeof c?c:c?1:0,this._detail=d,this._predefs=f,h["default"].verb(i.StorageCategory,"standard feedback created",this)}return f(a,[{key:"id",get:function(){return this._id}},{key:"ratio",get:function(){return this._ratio}},{key:"detail",get:function(){return this._detail},set:function(a){if("string"!=typeof a)throw new TypeError("detail should be string");this._detail=a}},{key:"predefs",get:function(){return this._predefs},set:function(a){if(!Array.isArray(a))throw new TypeError("predefs should be an array of string");this._predefs=a}}]),a}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.StdAdapter=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(71),h=d(g),i=c(77),j=c(75);b.StdAdapter=function(){function a(){e(this,a)}return f(a,[{key:"setApp",value:function(a){this._app=a,h["default"].verb(i.WorkflowCategory,"standard workflow adapter linked with application",this)}},{key:"getId",value:function(a){return a?a.id||null:null}},{key:"helpful",value:function(a){return a?1===a.ratio:null}},{key:"hasDetail",value:function(a){return a?!!a.detail||!!a.predefs:null}},{key:"get",value:function(){return this._app.storage.retrieve()}},{key:"vote",value:function(a){if("boolean"!=typeof a)throw new TypeError("isHelpful should be boolean");this._app.metadata.refresh(!1);var b=new j.StdFeedback(null,a);return h["default"].verb(i.WorkflowCategory,"standard workflow adapter voting",b),this._app.storage.provide(b)}},{key:"provide",value:function(a,b,c){if(!(a instanceof j.StdFeedback))throw new TypeError("feedback should be StdFeedback");if("string"!=typeof b)throw new TypeError("detail should be string");if(!Array.isArray(c))throw new TypeError("preDefinedDetails should be an array of string");return a.detail=b,a.predefs=c,h["default"].verb(i.WorkflowCategory,"standard workflow adapter providing details",a),this._app.storage.refine(a)}}]),a}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.TwoPhaseWorkflow=b.WorkflowCategory=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(71),h=d(g),i=b.WorkflowCategory="workflow";
b.TwoPhaseWorkflow=function(){function a(){e(this,a)}return f(a,[{key:"setApp",value:function(a){this._app=a,h["default"].verb(i,"two-phase workflow linked with application",this)}},{key:"startAsync",value:function(){var a=this;h["default"].verb(i,"starting");var b=this._app.adapter;return b.get().then(function(c){a._voted=!!c,a._provided=b.hasDetail(c),a._helpful=b.helpful(c),h["default"].info(i,"started",a)})}},{key:"voteAsync",value:function(a){if("boolean"!=typeof a)throw new TypeError("isHelpful should be boolean");if(null===this._voted||this._voted)throw new Error("vote() should be called after workflow started and has not been voted");h["default"].verb(i,"voting",a),this._voted=!0,this._helpful=a;var b=this._app.adapter;return this._procedure=b.vote(a).then(function(c){return h["default"].info(i,"voted",{id:b.getId(c),helpful:a}),c})}},{key:"provideAsync",value:function(a,b){if(!this._voted||this._provided)throw new Error("provide() should be called after voted before provided");var c=this._app.adapter,d={detail:a,predefs:b};return this._provided=!0,this._procedure=this._procedure.then(function(e){return d.id=c.getId(e),a||b?(h["default"].verb(i,"providing detail",d),c.provide(e,a,b).then(function(){h["default"].info(i,"details provided",d)})):void h["default"].info(i,"no details provided",d)})["catch"](function(a){h["default"].error(i,"procedure error",a)})}},{key:"voted",get:function(){return this._voted}},{key:"helpful",get:function(){return this._helpful}},{key:"provided",get:function(){return this._provided}}]),a}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.TwoPhaseUILogic=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(71),i=d(h),j=c(72),k=c(79),l=c(80),m=c(82),n=c(91),o=c(93),p=c(94),q=c(97),r=c(99);b.TwoPhaseUILogic=function(){function a(){f(this,a)}return g(a,[{key:"setApp",value:function(a){this._app=a,i["default"].verb(j.LogicCategory,"two-phase logic linked with application",this)}},{key:"_frameUi",value:function(a){var b=new m.PageFrame;return b.closeAccLabel=this._app.localization.getString("close_acc"),b.onClose(a),b}},{key:"_voteUi",value:function(a,b){var c=this._app.localization,d=new o.VoteContent(c.getString("vote_title"),c.getString("vote_yes"),c.getString("vote_no"),c.getString("vote_yes_acc"),c.getString("vote_no_acc"));return d.onYes(a),d.onNo(b),d}},{key:"_mobVoteUi",value:function(a){var b=new r.MobileVoteButton(this._app.localization.getString("mobile_feedback"));return b.onClick(a),b}},{key:"_helpfulUi",value:function(){return l.TextBlock.createText(l.TextBlockType.BODY,this._app.localization.getString("voted_yes"))}},{key:"_unhelpfulUi",value:function(){return l.TextBlock.createText(l.TextBlockType.BODY,this._app.localization.getString("voted_no"))}},{key:"_feedbackSummaryUi",value:function(a,b){var c=this._app.workflow;return c.voted?c.helpful?this._helpfulUi():this._unhelpfulUi():this._voteUi(a,b)}},{key:"_feedbackUi",value:function(a,b,c,d){var f=this._app.localization,g=this._feedbackSummaryUi(a,b),h=[].concat(e(new Array(this._app.config.predefinedQuestionsCount||5))).map(function(a,b){return f.getString("feedback_improve"+(b+1))}),i=new p.FeedbackContent(g,f.getString("feedback_title"),h,f.getString("feedback_suggest"),f.getString("feedback_hint"),f.getString("feedback_submit"));return i.onChanged(c),i.onSubmit(d),i}},{key:"_mobFeedbackUi",value:function(a,b,c,d,e){var f=new n.ModalDialog,g=new m.PageFrame;return g.onClose(a),g.content=this._feedbackUi(b,c,d,e),g.closeAccLabel=this._app.localization.getString("close_acc"),f.content=g,f}},{key:"_moreUi",value:function(a){var b=this._app.localization,c=new(Function.prototype.bind.apply(q.ThanksContent,[null].concat([b.getString("thanks_title")],e(b.getStringParts("thanks_comment")))));return c.onMore(a),c}},{key:"_thanksUi",value:function(){var a=new m.PageFrame((!1));return a.content=new q.ThanksContent(this._app.localization.getString("thanks_title")),a}},{key:"_toVote",value:function(){var a=this;this._frame.content=this._voteUi(function(){return a._vote_click(!0)},function(){return a._vote_click(!1)})}},{key:"_toMobVote",value:function(){var a=this;this._reset(),this._enter(this._mobVoteUi(function(){return a._mob_feedback_click()}))}},{key:"_toFeedback",value:function(){var a=this,b=this._feedbackUi(function(){},function(){},function(){return a._feedback_changed(b)},function(){return a._submit_click(b)});this._feedback_changed(b),this._frame.content=b}},{key:"_toMobFeedback",value:function(){var a=this;this._reset();var b=null,c=this._mobFeedbackUi(function(){return a._mob_feedback_close()},function(){return a._mob_vote_click(!0,b)},function(){return a._mob_vote_click(!1,b)},function(){return a._feedback_changed(b)},function(){return a._submit_click(b)});b=c.content.content,this._feedback_changed(b),this._enter(c)}},{key:"_toMore",value:function(){var a=this;this._frame.content=this._moreUi(function(){return a._more_click()}),this._timeout=setTimeout(function(){return a._frame_close()},this._app.config.thanksWithMoreDelay||1e4)}},{key:"_toThanks",value:function(){var a=this;this._reset(),this._enter(this._thanksUi()),setTimeout(function(){return a._exit()},this._app.config.thanksDelay||3e3)}},{key:"run",value:function(){var a=this;i["default"].verb(j.LogicCategory,"logic start running");var b=this._app.workflow;b.startAsync().then(function(){if(b.voted)i["default"].info(j.LogicCategory,"no need to create UI");else{i["default"].info(j.LogicCategory,"create UI for voting");var c=new k.Responsive(a._app.config.responsiveRule||"(min-width: 1025px)");c.onDesktopView(function(){return a._responsive_desktop()}),c.onMobileView(function(){return a._responsive_mobile()}),c.initialize()}})}},{key:"_responsive_desktop",value:function(){var a=this;this._reset();var b=this._app.workflow;b.provided||this._closed||(this._frame=this._frameUi(function(){return a._frame_close()}),b.voted?this._toFeedback():this._toVote(),this._enter(this._frame))}},{key:"_responsive_mobile",value:function(){var a=this._app.workflow;a.provided||this._closed||(a.voted?this._toMobFeedback():this._toMobVote())}},{key:"_enter",value:function(a){(this._attached=a).enter(this._app.parent)}},{key:"_exit",value:function(){this._attached=this._attached&&this._attached.exit()}},{key:"_reset",value:function(){this._timeout=this._timeout&&clearTimeout(this._timeout),this._attached=this._attached&&this._attached.detach()}},{key:"_frame_close",value:function(){i["default"].info(j.LogicCategory,"close clicked",this._frame),this._closed=!0,this._frame.content instanceof p.FeedbackContent?(this._app.workflow.provideAsync(null,null),this._toThanks()):this._exit()}},{key:"_vote_click",value:function(a){i["default"].info(j.LogicCategory,"vote "+(a?"yes":"no")+" clicked",this._frame),this._app.workflow.voteAsync(a),a?this._toMore():this._toFeedback()}},{key:"_more_click",value:function(){i["default"].info(j.LogicCategory,"Thanks with more link clicked",this._frame),clearTimeout(this._timeout),this._toFeedback()}},{key:"_feedback_changed",value:function(a){a.canSubmit=this._app.workflow.voted&&(a.checkedItems.length>0||!!a.detail)}},{key:"_submit_click",value:function(a){i["default"].info(j.LogicCategory,"feedback submit clicked",this._frame),this._app.workflow.provideAsync(a.detail.trim(),a.checkedItems),this._toThanks()}},{key:"_mob_feedback_click",value:function(){i["default"].info(j.LogicCategory,"mobile feedback button clicked"),this._toMobFeedback()}},{key:"_mob_feedback_close",value:function(){i["default"].info(j.LogicCategory,"mobile feedback page close clicked");var a=this._app.workflow;a.voted?(this._closed=!0,a.provideAsync(null,null),this._toThanks()):(this._exit(),this._toMobVote())}},{key:"_mob_vote_click",value:function(a,b){i["default"].info(j.LogicCategory,"mobile vote "+(a?"yes":"no")+" clicked",this._frame),this._app.workflow.voteAsync(a),b.switchSummary(this._feedbackSummaryUi()),this._feedback_changed(b)}}]),a}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.Responsive=b.ResponsiveCategory=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(71),h=d(g),i=b.ResponsiveCategory="responsive";b.Responsive=function(){function a(b){var c=this;if(e(this,a),"string"!=typeof b)throw new TypeError("mediaQuery should be string");this._mq=matchMedia(b),h["default"].verb(i,"media query created",this._mq),this._mob=null,this._desk=null,this._mq.addListener(function(){return c._match_changed()})}return f(a,[{key:"initialize",value:function(){this._match_changed()}},{key:"_match_changed",value:function(){this._mq.matches?(h["default"].verb(i,"desktop view triggered",this._mq),this._desk&&this._desk()):(h["default"].verb(i,"mobile view triggered",this._mq),this._mob&&this._mob())}},{key:"onMobileView",value:function(a){if("function"!=typeof a)throw new TypeError("handler should be function");this._mob=a}},{key:"onDesktopView",value:function(a){if("function"!=typeof a)throw new TypeError("handler should be function");this._desk=a}}]),a}()},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.TextBlock=b.TextBlockType=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(81);b.TextBlockType={HEADER:"h1",SUBHEADER:"h2",TITLE:"h3",SUBTITLE:"h4",BODY:"p",INLINE:"span"},b.TextBlock=function(a){function b(a){d(this,b);var c=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,!1));return c._dom=document.createElement(a),c}return f(b,a),g(b,[{key:"appendText",value:function(a){if(!a||"string"!=typeof a)throw new TypeError("text must a non-empty string");this._dom.appendChild(document.createTextNode(a))}},{key:"appendControl",value:function(a){if(!(a&&a instanceof h.Control))throw new TypeError("control must a Control instance");a.attach(this._dom)}},{key:"attachCore",value:function(){return{root:this._dom,cls:["or-t"]}}}],[{key:"createText",value:function(a,c){if(!c||"string"!=typeof c)throw new TypeError("text must a non-empty string");var d=new b(a);return d.appendText(c),d}}]),b}(h.Control)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.Control=b.CommonControlCategory=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(71),h=d(g),i=b.CommonControlCategory="commonctrl",j="or-o",k="or-so",l="or-c",m="or-f",n="or-k",o=100;b.Control=function(){function a(b){var c=this;e(this,a),this._parent=null,this._attached=null,this._focusable=b,b&&(this._focus_target=null,this._mouse_active=!1,this._has_focus=!1,this._mouse_handler=function(){return c._focus_target_mousedown()},this._kd_handler=function(){return c._focus_target_keydown()},this._focus_handler=function(){return c._focus_target_focus()},this._blur_handler=function(){return c._focus_target_blur()})}return f(a,[{key:"attach",value:function(a){this.detach(),this._parent=a;var b=this.attachCore();if(!(b&&b.root&&b.cls&&Array.isArray(b.cls)))throw new TypeError("attachCore() must return an object of at least { root, cls }");if(b.cls.forEach(function(a){return b.root.classList.add(a)}),this._attached=b.root,this._attached.classList.add(j),b.subdoms){if(!Array.isArray(b.subdoms))throw new TypeError("attachCore() returned { subdoms } should be an array");b.subdoms.forEach(function(a){return a.classList.add(k)})}return b.content&&b.content.classList.add(l),this._focusable&&(this._focus_target=b.focus||b.root,this._attached.classList.add(m),this._attachFocusMonitor()),this._parent.appendChild(this._attached),h["default"].verb(i,"control attach",b),b.root}},{key:"detach",value:function(){this._attached&&(h["default"].verb(i,"control detach",this._attached),this.detachCore(),this._focusable&&(this._detachFocusMonitor(),this._attached.classList.remove(m),this._focus_target=null),this._attached.classList.remove(j),this._parent.removeChild(this._attached),this._attached=this._parent=null)}},{key:"attachCore",value:function(){return null}},{key:"detachCore",value:function(){}},{key:"_focus_target_mousedown",value:function(){var a=this;this._mouse_active=!0,setTimeout(function(){return a._mouse_active=!1},o)}},{key:"_focus_target_keydown",value:function(){this._mouse_active=!1,this._has_focus&&this._attached.classList.add(n)}},{key:"_focus_target_focus",value:function(){this._has_focus=!0,this._mouse_active||this._attached.classList.add(n)}},{key:"_focus_target_blur",value:function(){this._has_focus=!1,this._attached.classList.remove(n)}},{key:"_attachFocusMonitor",value:function(){this._attached!==this._focus_target&&this._attached.addEventListener("mouseup",this._mouse_handler),this._focus_target.addEventListener("mousedown",this._mouse_handler),this._focus_target.addEventListener("keydown",this._kd_handler),this._focus_target.addEventListener("focus",this._focus_handler),this._focus_target.addEventListener("blur",this._blur_handler)}},{key:"_detachFocusMonitor",value:function(){this._attached!==this._focus_target&&this._attached.removeEventListener("mouseup",this._mouse_handler),this._focus_target.removeEventListener("mousedown",this._mouse_handler),this._focus_target.removeEventListener("keydown",this._kd_handler),this._focus_target.removeEventListener("focus",this._focus_handler),this._focus_target.removeEventListener("blur",this._blur_handler)}}]),a}()},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.PageFrame=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(81),i=c(83),j=c(85),k=c(86),l=c(88);b.PageFrame=function(a){function b(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];d(this,b);var c=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,!1));return c._dom=document.createElement("div"),c._wrapper=new k.LayoutWrapper((!1)),c._close=null,a&&(c._close=new i.FlatButton,c._close.content=new j.SvgIcon(20,20,'<path d="M6 6L14 14M14 6L6 14"/>')),c._content=null,c}return f(b,a),g(b,[{key:"onClose",value:function(a){if(!this._close)throw new Error("No close button presents on this page frame");this._close.onClick(a)}},{key:"offClose",value:function(a){if(!this._close)throw new Error("No close button presents on this page frame");this._close.offClick(a)}},{key:"enter",value:function(a){var b=new l.FadeEffect(this._dom,(!0));b.prepare(),this.attach(a),b.playAsync()}},{key:"exit",value:function(){var a=this,b=new l.FadeEffect(this._dom,(!1));b.prepare(),b.playAsync().then(function(){return a.detach()})}},{key:"attachCore",value:function(){var a={root:this._dom,cls:[this._close?"or-c-pf":"or-c-mf"],content:this._wrapper.attach(this._dom)};return this._close&&this._close.attach(this._dom),a}},{key:"detachCore",value:function(){this._close&&this._close.detach(),this._wrapper.detach()}},{key:"content",get:function(){return this._content},set:function(a){if(!(a instanceof h.Control))throw new TypeError("content must be Control");this._wrapper.replace(a?[a]:null),this._content=a}},{key:"closeAccLabel",get:function(){return this._close?this._close.accLabel:null},set:function(a){this._close&&(this._close.accLabel=a)}}]),b}(h.Control)},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.FlatButton=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function j(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:j(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},i=c(84);b.FlatButton=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return f(b,a),g(b,[{key:"attachCore",value:function(){var a=h(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"attachCore",this).call(this);return a.cls=["or-a"],a}}]),b}(i.Button)},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.Button=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(81),i=c(80),j=c(85);b.Button=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button";d(this,b);var c=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,!0));return c._dom=document.createElement("button"),c._dom.type="button",c._dom.setAttribute("role",a),c._content=null,c._contentDom=null,c}return f(b,a),g(b,[{key:"onClick",value:function(a){this._dom.addEventListener("click",a)}},{key:"offClick",value:function(a){this._dom.removeEventListener("click",a)}},{key:"attachCore",value:function(){var a={root:this._dom,cls:["or-b"]};return this._contentDom&&(a.subdoms=[this._contentDom],a.content=this._contentDom),a}},{key:"content",get:function(){return this._content},set:function(a){if(!(a instanceof i.TextBlock||a instanceof j.SvgIcon))throw new TypeError("content should be TextBlock or SvgIcon");this._content&&(this._content.detach(),this._contentDom=null),this._content=a,this._content&&(this._contentDom=this._content.attach(this._dom))}},{key:"accLabel",get:function(){return this._dom.getAttribute("aria-label")},set:function(a){this._dom.setAttribute("aria-label",a)}},{key:"disabled",get:function(){return this._dom.disabled},set:function(a){if("boolean"!=typeof a)throw new TypeError("value should be boolean");this._dom.disabled=a}}]),b}(h.Control)},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.SvgIcon=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(81);b.SvgIcon=function(a){function b(a,c,f){d(this,b);var g=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,!1));if("number"!=typeof a)throw new TypeError("viewWidth should be number");if("number"!=typeof c)throw new TypeError("viewHeight should be number");return g._dom=document.createElement("span"),g._dom.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" focusable="false" class="or-so"'+(' viewBox="0 0 '+a+" "+c+'">'+f+"</svg>"),g}return f(b,a),g(b,[{key:"attachCore",value:function(){return{root:this._dom,cls:["or-g"]}}}]),b}(h.Control)},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.LayoutWrapper=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(81),i=c(87),j=c(88),k=c(89),l=c(90);b.LayoutWrapper=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;d(this,b);var f=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,!1));if(a?(f._dom=document.createElement("table"),f._body=document.createElement("tbody"),f._dom.appendChild(f._body),f._row=document.createElement("tr"),f._body.appendChild(f._row)):(f._dom=document.createElement("div"),f._row=null),f._cells=[],f._children=[],c){if(!Array.isArray(c))throw new TypeError("controls must be an array of Control");c.forEach(function(a){return f._append(a)})}return f}return f(b,a),g(b,[{key:"_append",value:function(a){if(!(a&&a instanceof h.Control))throw new TypeError("control must a Control");if(this._row){var b=document.createElement("td");this._cells.push(b),this._row.appendChild(b),a.attach(b)}else a.attach(this._dom);this._children.push(a)}},{key:"clear",value:function(){if(this._children.forEach(function(a){return a.detach()}),this._children=[],this._row){for(;this._row.firstChild;)this._row.removeChild(this._row.firstChild);this._cells=[]}}},{key:"replace",value:function(a){var b=this,c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(a&&!Array.isArray(a))throw new TypeError("controls must be an array of Control");var d=this._children&&this._children.length,e=a&&a.length,f=null;c&&d&&e&&(f=new i.AggregateEffect([new k.HeightEffect(this._dom),new l.WidthEffect(this._dom),new j.FadeEffect(this._dom)]),f.prepare()),this.clear(),a&&a.forEach(function(a){return b._append(a)}),f&&f.playAsync()}},{key:"attachCore",value:function(){var a=this._row?[this._body,this._row]:[];return a=a.concat(this._cells),{root:this._dom,cls:["or-lw"],subdoms:a}}},{key:"detachCore",value:function(){this.clear()}}]),b}(h.Control)},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.EffectCategory="effect",b.Effect=function(){function a(b,d){c(this,a),this.dom=b,this._cls=d}return d(a,[{key:"before",value:function(){}},{key:"after",value:function(){}},{key:"onReady",value:function(){}},{key:"fix",value:function(){}},{key:"mayFinish",value:function(){}},{key:"onFinished",value:function(){}},{key:"_update",value:function(){this._updated=this.after(),this.onReady(),this._needPlay=this._origin!==this._updated&&"0s"!==getComputedStyle(this.dom)["transition-duration"]}},{key:"_resetAsync",value:function(a){var b=this;return a&&this.dom.classList.add("or-e-0"),this.fix(this._origin),new Promise(function(a){setTimeout(function(){b.dom.classList.remove("or-e-0"),a()},20)})}},{key:"_playAsync",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(c){setTimeout(function(){var d=function e(d){a.mayFinish(d.propertyName)&&(a._finishTransition(b),a.dom.removeEventListener("transitionend",e),c())};a.dom.addEventListener("transitionend",d),a.fix(a._updated)},20)})}},{key:"_finishTransition",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onFinished(),a||this.dom.classList.remove(this._cls)}},{key:"prepare",value:function(){this._origin=this.before(),this.dom.classList.add(this._cls)}},{key:"playAsync",value:function(){var a=this;return this._update(),this._needPlay?this._resetAsync(!0).then(function(){return a._playAsync()}):Promise.resolve(this._finishTransition())}}]),a}(),b.AggregateEffect=function(){function a(b){if(c(this,a),!b)throw new ReferenceError("effects should not be null or empty");if(!Array.isArray(b))throw new TypeError("effects should be an array of Effect");this._effects=b}return d(a,[{key:"prepare",value:function(){this._effects.forEach(function(a){return a.prepare()})}},{key:"playAsync",value:function(){var a=this,b=[];return this._effects.forEach(function(a){a._update(),a._needPlay?b.push(a):a._finishTransition(!0)}),b.forEach(function(a){return a.dom.classList.add("or-e-0")}),Promise.all(b.map(function(a){return a._resetAsync(!1)})).then(function(){return b.forEach(function(a){return a.dom.classList.remove("or-e-0")}),Promise.all(b.map(function(a){return a._playAsync(!0)}))}).then(function(){a._effects.forEach(function(a){return a.dom.classList.remove(a._cls)})})}}]),a}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.FadeEffect=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(87),j=c(71),k=d(j);b.FadeEffect=function(a){function b(a){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c?"or-e-fi":"or-e-fo"));return d._in=c,d}return g(b,a),h(b,[{key:"before",value:function(){return k["default"].verb(i.EffectCategory,"opacity before transition",this._in?0:1),this._in?0:1}},{key:"after",value:function(){return k["default"].verb(i.EffectCategory,"opacity after transition",this._in?1:0),this._in?1:0}},{key:"fix",value:function(a){this.dom.style.opacity=""+a}},{key:"mayFinish",value:function(a){return"opacity"===a}}]),b}(i.Effect)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.HeightEffect=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(87),j=c(71),k=d(j);b.HeightEffect=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,"or-e-h"))}return g(b,a),h(b,[{key:"before",value:function(){return k["default"].verb(i.EffectCategory,"height before transition",this.dom.clientHeight),this.dom.clientHeight}},{key:"after",value:function(){return k["default"].verb(i.EffectCategory,"height after transition",this.dom.clientHeight),this.dom.clientHeight}},{key:"onReady",value:function(){this._oldStyle=this.dom.style.height}},{key:"fix",value:function(a){this.dom.style.height=a+"px"}},{key:"mayFinish",value:function(a){return"height"===a}},{key:"onFinished",value:function(){this.dom.style.height=this._oldStyle}}]),b}(i.Effect)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.WidthEffect=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(87),j=c(71),k=d(j);b.WidthEffect=function(a){function b(a){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,"or-e-w"))}return g(b,a),h(b,[{key:"before",value:function(){return k["default"].verb(i.EffectCategory,"width before transition",this.dom.clientWidth),this.dom.clientWidth}},{key:"after",value:function(){return k["default"].verb(i.EffectCategory,"width after transition",this.dom.clientWidth),this.dom.clientWidth}},{key:"onReady",value:function(){this._oldStyle=this.dom.style.width}},{key:"fix",value:function(a){this.dom.style.width=a+"px"}},{key:"mayFinish",value:function(a){return"width"===a}},{key:"onFinished",value:function(){this.dom.style.width=this._oldStyle}}]),b}(i.Effect)},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.ModalDialog=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(81),i=c(87),j=c(88),k=c(92);b.ModalDialog=function(a){function b(){d(this,b);var a=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,!1));return a._dom=document.createElement("div"),a._contentDom=document.createElement("div"),a._dom.appendChild(a._contentDom),a._content=null,a}return f(b,a),g(b,[{key:"enter",value:function(a){var b=new i.AggregateEffect([new j.FadeEffect(this._contentDom,(!0)),new k.TransformEffect(this._contentDom,"scale(1.2, 1.2)","scale(1, 1)")]);b.prepare(),this.attach(a),b.playAsync()}},{key:"exit",value:function(){var a=this,b=new i.AggregateEffect([new j.FadeEffect(this._contentDom,(!1)),new k.TransformEffect(this._contentDom,"scale(1, 1)","scale(1.2, 1.2)")]);b.prepare(),b.playAsync().then(function(){return a.detach()})}},{key:"attachCore",value:function(){return this._content&&this._content.attach(this._contentDom),{root:this._dom,cls:["or-c-md"],content:this._contentDom,subdoms:[this._contentDom]}}},{key:"detachCore",value:function(){this._content&&this._content.detach()}},{key:"content",get:function(){return this._content},set:function(a){if(!(a instanceof h.Control))throw new TypeError("content must be Control");this._content=a}}]),b}(h.Control)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.TransformEffect=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(87),j=c(71),k=d(j);b.TransformEffect=function(a){function b(a,c,d){e(this,b);var g=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,"or-e-t"));return g._src=c,g._tgt=d,g}return g(b,a),h(b,[{key:"before",value:function(){return k["default"].verb(i.EffectCategory,"transform before transition",this._src),this._src}},{key:"after",value:function(){return k["default"].verb(i.EffectCategory,"transform after transition",this._tgt),this._tgt}},{key:"onReady",value:function(){this._oldStyle=this.dom.style.transform}},{key:"fix",value:function(a){this.dom.style.transform=""+a}},{key:"mayFinish",value:function(a){return"transform"===a||"-webkit-transform"===a}},{key:"onFinished",value:function(){this.dom.style.transform=this._oldStyle}}]),b}(i.Effect)},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.VoteContent=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(81),i=c(80),j=c(84),k=c(86);b.VoteContent=function(a){function b(a,c,f,g,h){d(this,b);var l=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,!1));if("string"!=typeof a)throw new TypeError("title must be string");if("string"!=typeof c)throw new TypeError("yes must be string");if("string"!=typeof f)throw new TypeError("no must be string");return l._dom=document.createElement("div"),l._title=i.TextBlock.createText(i.TextBlockType.TITLE,a),l._yes=new j.Button,l._yes.content=i.TextBlock.createText(i.TextBlockType.INLINE,c),l._yes.accLabel=g,l._no=new j.Button,l._no.content=i.TextBlock.createText(i.TextBlockType.INLINE,f),l._no.accLabel=h,l._layout=new k.LayoutWrapper((!0),[l._yes,l._no]),l}return f(b,a),g(b,[{key:"onYes",value:function(a){this._yes.onClick(a)}},{key:"offYes",value:function(a){this._yes.offClick(a)}},{key:"onNo",value:function(a){this._no.onClick(a)}},{key:"offNo",value:function(a){this._no.offClick(a)}},{key:"attachCore",value:function(){return this._title.attach(this._dom),this._layout.attach(this._dom),{root:this._dom,cls:["or-c-v"]}}},{key:"detachCore",value:function(){this._layout.detach(),this._title.detach()}}]),b}(h.Control)},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.FeedbackContent=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(81),i=c(80),j=c(84),k=c(95),l=c(96),m=c(86);b.FeedbackContent=function(a){function b(a,c,f,g,n,o){d(this,b);var p=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,!1));if(!(a&&a instanceof h.Control))throw new TypeError("summary must be Control");if("string"!=typeof c)throw new TypeError("predefTitle must be string");if(!Array.isArray(f))throw new TypeError("predefs must be an array of string");if("string"!=typeof g)throw new TypeError("suggestTitle must be string");if("string"!=typeof o)throw new TypeError("submit must be string");return p._dom=document.createElement("div"),p._common=new m.LayoutWrapper((!1),[a]),p._pdTitle=i.TextBlock.createText(i.TextBlockType.TITLE,c),p._pdChecks=f.map(function(a){return new l.CheckBox(a)}),p._sgTitle=i.TextBlock.createText(i.TextBlockType.TITLE,g),p._sgText=new k.TextInput((!0)),p._sgText.hint=n,p._sgButton=new j.Button,p._sgButton.content=i.TextBlock.createText(i.TextBlockType.INLINE,o),p._clear=new m.LayoutWrapper,p}return f(b,a),g(b,[{key:"switchSummary",value:function(a){if(!(a&&a instanceof h.Control))throw new TypeError("summary must be Control");this._common.replace([a])}},{key:"onSubmit",value:function(a){this._sgButton.onClick(a)}},{key:"offSubmit",value:function(a){this._sgButton.offClick(a)}},{key:"onChanged",value:function(a){this._pdChecks.forEach(function(b){return b.onChanged(a)}),this._sgText.onChanged(a)}},{key:"offChanged",value:function(a){this._pdChecks.forEach(function(b){return b.offChanged(a)}),this._sgText.offChanged(a)}},{key:"attachCore",value:function(){var a=this;return this._common.attach(this._dom),this._pdTitle.attach(this._dom),this._pdChecks.forEach(function(b){return b.attach(a._dom)}),this._sgTitle.attach(this._dom),this._sgText.attach(this._dom),this._sgButton.attach(this._dom),this._clear.attach(this._dom),{root:this._dom,cls:["or-c-f"]}}},{key:"detachCore",value:function(){this._clear.detach(),this._sgButton.detach(),this._sgText.detach(),this._sgTitle.detach(),this._pdChecks.forEach(function(a){return a.detach()}),this._pdTitle.detach(),this._common.detach()}},{key:"canSubmit",get:function(){return!this._sgButton.disabled},set:function(a){this._sgButton.disabled=!a}},{key:"detail",get:function(){return this._sgText.text}},{key:"checkedItems",get:function(){return this._pdChecks.filter(function(a){return a.checked}).map(function(a){return a.text})}}]),b}(h.Control)},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.TextInput=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(81);b.TextInput=function(a){function b(a){d(this,b);var c=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,!1));if("boolean"!=typeof a)throw new TypeError("multiline should be boolean");return a?c._dom=document.createElement("textarea"):(c._dom=document.createElement("input"),c._dom.type="text"),c}return f(b,a),g(b,[{key:"onChanged",value:function(a){this._dom.addEventListener("input",a)}},{key:"offChanged",value:function(a){this._dom.removeEventListener("input",a)}},{key:"attachCore",value:function(){return{root:this._dom,cls:["or-x"]}}},{key:"hint",get:function(){return this._dom.placeholder},set:function(a){if("string"!=typeof a)throw new TypeError("hint should be string");this._dom.placeholder=a}},{key:"text",get:function(){return this._dom.value}}]),b}(h.Control)},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.CheckBox=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(81),i=c(80),j=c(85);b.CheckBox=function(a){function b(a){d(this,b);var c=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,!0));if("string"!=typeof a)throw new TypeError("text must be string");c._text=a,c._dom=document.createElement("label"),c._check=document.createElement("input"),c._check.type="checkbox",c._dom.appendChild(c._check),c._border=document.createElement("span"),c._dom.appendChild(c._border);var f=new j.SvgIcon(20,20,'<path d="M3 10L7 16 17 6"/>');f.attach(c._dom);var g=i.TextBlock.createText(i.TextBlockType.INLINE,a);return g.attach(c._dom),c}return f(b,a),g(b,[{key:"onChanged",value:function(a){this._check.addEventListener("click",a)}},{key:"offChanged",value:function(a){this._check.removeEventListener("click",a)}},{key:"attachCore",value:function(){return{root:this._dom,cls:["or-v"],focus:this._check,subdoms:[this._check,this._border]}}},{key:"checked",get:function(){return this._check.checked},set:function(a){this._check.checked=a}},{key:"text",get:function(){return this._text}}]),b}(h.Control)},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.ThanksContent=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(81),i=c(80),j=c(98);b.ThanksContent=function(a){function b(a,c,f,g){d(this,b);var h=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,!1));if("string"!=typeof a)throw new TypeError("title must be string");return h._dom=document.createElement("div"),h._title=i.TextBlock.createText(i.TextBlockType.TITLE,a),h._tellUs=null,(c||f||g)&&(h._tellUs=new i.TextBlock(i.TextBlockType.BODY),c&&h._tellUs.appendText(c),f&&(h._link=new j.LinkButton,h._link.content=i.TextBlock.createText(i.TextBlockType.INLINE,f),h._tellUs.appendControl(h._link)),g&&h._tellUs.appendText(g)),h}return f(b,a),g(b,[{key:"onMore",value:function(a){this._link.onClick(a)}},{key:"offMore",value:function(a){this._link.offClick(a)}},{key:"attachCore",value:function(){return this._title.attach(this._dom),this._tellUs&&this._tellUs.attach(this._dom),{root:this._dom,cls:["or-c-t"]}}},{key:"detachCore",value:function(){this._tellUs&&this._tellUs.detach(),this._title.detach()}}]),b}(h.Control)},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.LinkButton=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function j(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:j(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},i=c(84);b.LinkButton=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,"link"))}return f(b,a),g(b,[{key:"attachCore",value:function(){var a=h(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"attachCore",this).call(this);return a.cls=["or-l"],a}}]),b}(i.Button)},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.MobileVoteButton=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function m(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:m(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},i=c(80),j=c(84),k=c(85),l=c(88);b.MobileVoteButton=function(a){function b(a){d(this,b);var c=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c.content=new i.TextBlock(i.TextBlockType.INLINE),c.content.appendControl(new k.SvgIcon(500,500,'<path d="M243.667,0C143.106,0,61.27,81.835,61.27,182.397c0,58.793,28.576,114.302,76.485,148.501l2.25,1.49c11.126,6.536,12.221,27.572,11.977,31.433l-0.061,1.915v59.857c0,11.43,6.384,21.857,16.568,27.086l61.346,31.311c4.347,2.219,9.089,3.344,13.832,3.344c4.682,0,9.393-1.094,13.71-3.253l62.076-31.342c10.245-5.168,16.689-15.656,16.689-27.147V366.07c0-30.004,18.331-39.915,18.483-39.975l6.749-4.347c41.13-34.807,64.69-85.544,64.69-139.351C426.064,81.835,344.259,0,243.667,0z M243.667,456.934l-61.316-31.342h123.391L243.667,456.934z M305.712,366.07v29.123H182.321v-29.457l0.03-0.942h123.483L305.712,366.07z M341.766,298.523c0,0-20.368,9.515-30.46,35.871H177.457c-3.77-10.518-10.305-21.34-22.04-28.272C116.84,278.611,91.67,233.438,91.67,182.397c0-83.933,68.064-151.997,151.997-151.997c83.963,0,151.997,68.064,151.997,151.997C395.664,228.969,374.719,270.616,341.766,298.523z" />')),c.content.appendControl(i.TextBlock.createText(i.TextBlockType.INLINE,a)),c}return f(b,a),g(b,[{key:"enter",value:function(a){var b=new l.FadeEffect(this._dom,(!0));b.prepare(),this.attach(a),b.playAsync()}},{key:"attachCore",value:function(){var a=h(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"attachCore",this).call(this);return a.cls.push("or-c-mv"),a}}]),b}(j.Button)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.LocManager=b.LocalizationCategory=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(71),h=d(g),i=b.LocalizationCategory="localization";b.LocManager=function(){function a(){e(this,a),this._loading=!1,this._loaded=!1,this._resources=[],this._maps=[],this._rtl=!1}return f(a,[{key:"setApp",value:function(a){this._app=a,h["default"].verb(i,"localization manager linked with application",this)}},{key:"setTargetLocale",value:function(a){var b=this._app.config;a=a.toLowerCase(),b.supportedUiLocales.indexOf(a)>=0?h["default"].verb(i,"locale supported",a):(h["default"].verb(i,'locale not supported, fallback "'+b.fallbackUiLocale+'"',a),a=b.fallbackUiLocale),this.addResource(this._app.config.uiLocaleResCallback(a))}},{key:"addResource",value:function(a){if(this._loading||this._loaded)throw new Error("addResource() should only be called when localization manager is not loading or loaded");this._resources.push(a)}},{key:"loadAsync",value:function(){var a=this;if(this._loading||this._loaded)throw new Error("loadAsync() should only be called when localization manager is not loading or loaded");return this._loading=!0,h["default"].verb(i,"loading",this._resources),Promise.all(this._resources.map(function(a){return a.loadAsync()})).then(function(b){a._maps=b;for(var c=a._resources.length-1;c>=0;c--)if("undefined"!=typeof a._resources[c].rtl){a._rtl=a._resources[c].rtl;break}a._loading=!1,a._loaded=!0,h["default"].verb(i,"loaded",{maps:a._maps,rtl:a._rtl})})}},{key:"_getStringMap",value:function(a){if(!this._loaded)throw new Error("getString() should only be called when localization manager is loaded");for(var b=this._maps.length-1;b>=0;b--)if(this._maps[b][a])return this._maps[b];return h["default"].warn(i,"cannot find specified string",a),null}},{key:"getString",value:function(a){var b=this._getStringMap(a);return b?b[a]:a}},{key:"getStringParts",value:function(a){var b=this._getStringMap(a);if(!b)return a;for(var c=b[a],d=[],e=0,f=c.indexOf("${");f>=0;){var g=c.indexOf("}",f);g>=0?(d.push(c.substring(e,f)),d.push(b[c.substring(f+2,g)]),e=g+1,f=c.indexOf("${",g+1)):f=g}return e<c.length&&d.push(c.substring(e)),d}},{key:"rtl",get:function(){return this._rtl}}]),a}()},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.TwoPhaseWEDCSLogger=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(77);b.TwoPhaseWEDCSLogger=function(){function a(){d(this,a),this._fnlog="function"==typeof window.MscomCustomEvent?window.MscomCustomEvent:function(){}}return e(a,[{key:"verb",value:function(){}},{key:"info",value:function(a,b,c){if(a===f.WorkflowCategory)switch(b){case"voted":this._fnlog("wcs.cn="+(c.helpful?"yes":"no"),"ms.rating="+(c.helpful?1:0),"ms.feedbackid="+c.id,"ms.cmpgrp=feedbackform");break;case"details provided":this._fnlog("wcs.cn=submit","ms.feedbackid="+c.id,"ms.cmpgrp=feedbackform");break;case"no details provided":this._fnlog("wcs.cn=skip this","ms.feedbackid="+c.id,"ms.cmpgrp=feedbackform")}}},{key:"warn",value:function(){}},{key:"error",value:function(){}}]),a}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.LocJsonResource=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(71),h=d(g),i=c(100);b.LocJsonResource=function(){function a(b,c,d){if(e(this,a),!b||"string"!=typeof b)throw new TypeError("jsonAddress should be a non-empty string");this._addr=b,this._prop=c||null,this._rtlProp=d||null,this._rtl=void 0}return f(a,[{key:"loadAsync",value:function(){var a=this;return h["default"].verb(i.LocalizationCategory,"loading json resource",this),fetch(this._addr,{credentials:"same-origin"}).then(function(b){if(!b.ok)throw h["default"].error(i.LocalizationCategory,"failed to load json resource",{resource:a,response:b}),new Error(b.status);return b.json()}).then(function(b){return a._rtlProp&&(a._rtl=b[a._rtlProp]),a._prop?b[a._prop]:b})}},{key:"rtl",get:function(){return this._rtl}}]),a}()}]);